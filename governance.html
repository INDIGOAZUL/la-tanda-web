<!DOCTYPE html>
<html lang="es">
<head>
  <script type="module" crossorigin src="/assets/js/polyfills--1Z-T_Bc.js"></script>

    <meta charset="UTF-8">
    <!-- Resource Optimization -->
    <!-- DNS Prefetch for external resources -->
    <link rel="dns-prefetch" href="https://cdnjs.cloudflare.com">
    <link rel="dns-prefetch" href="https://fonts.googleapis.com">
    <link rel="dns-prefetch" href="https://fonts.gstatic.com">
    <link rel="dns-prefetch" href="https://cdn.jsdelivr.net">
    
    <!-- Preconnect to critical origins -->
    <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üó≥Ô∏è Governance | La Tanda Web3</title>
    <!-- Critical CSS: Font Awesome with async loading -->
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" as="style" crossorigin="anonymous" onload="this.onload=null;this.rel=stylesheet">
    <noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha384-iw3OoTErCYJJB9mCa8LNS2hbsQ7M3C0EpIsO/H5+EGAkPGc6rk+V8i04oW/K5xq0" crossorigin="anonymous"></noscript>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- Optimized Google Fonts loading -->
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" as="style" onload="this.onload=null;this.rel=stylesheet">
    <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"></noscript>
    <style>
        /* ================================
           üåê WEB3 DESIGN SYSTEM
           ================================ */
        :root {
            /* La Tanda Web3 Colors */
            --tanda-cyan: #00FFFF;
            --tanda-cyan-light: #7FFFD8;
            --tanda-cyan-dark: #00E5E5;
            --tanda-black: #000000;
            --text-primary: #f8fafc;
            --text-secondary: rgba(248, 250, 252, 0.7);
            --text-accent: #00FFFF;
            --bg-primary: #0f172a;
            --bg-secondary: #1e293b;
            --bg-card: rgba(15, 23, 42, 0.6);
            --border-card: rgba(0, 255, 255, 0.1);
            --border-accent: rgba(0, 255, 255, 0.2);
            --crypto-gold: #ffd700;
            --crypto-purple: #8b5cf6;
            --success-color: #22d55e;
            --warning-color: #fbbf24;
            --error-color: #f87171;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg-primary);
            min-height: 100vh;
            padding: 20px;
            color: var(--text-primary);
            overflow-x: hidden;
            position: relative;
        }
        
        /* ================================
           ‚ú® BACKGROUND EFFECTS
           ================================ */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 20%, rgba(0, 255, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(139, 92, 246, 0.08) 0%, transparent 50%),
                radial-gradient(circle at 40% 60%, rgba(255, 215, 0, 0.03) 0%, transparent 50%);
            pointer-events: none;
            z-index: 0;
        }
        
        /* ================================
           üß≠ NAVIGATION
           ================================ */
        .nav-header {
            background: var(--bg-card);
            backdrop-filter: blur(24px);
            border: 1px solid var(--border-accent);
            border-radius: 16px;
            padding: 20px 24px;
            margin-bottom: 32px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
            z-index: 1;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }
        
        .nav-left {
            display: flex;
            align-items: center;
            gap: 20px;
        }
        
        .back-btn {
            background: linear-gradient(135deg, var(--tanda-cyan), var(--tanda-cyan-light));
            color: var(--tanda-black);
            border: none;
            padding: 10px 20px;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            font-size: 14px;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .back-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 255, 255, 0.3);
        }
        
        .page-title {
            font-size: 28px;
            font-weight: 700;
            background: linear-gradient(135deg, var(--tanda-cyan), var(--crypto-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 0 0 20px rgba(0, 255, 255, 0.3);
        }
        
        .nav-links {
            display: flex;
            gap: 16px;
        }
        
        .nav-link {
            color: var(--text-secondary);
            text-decoration: none;
            padding: 8px 16px;
            border-radius: 8px;
            transition: all 0.3s ease;
            border: 1px solid transparent;
        }
        
        .nav-link:hover {
            color: var(--tanda-cyan);
            background: rgba(0, 255, 255, 0.1);
            border-color: var(--border-accent);
        }
        
        /* ================================
           üìä MAIN CONTAINER
           ================================ */
        .governance-container {
            max-width: 1400px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }
        
        /* ================================
           üìä STATS SECTION
           ================================ */
        .stats-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 32px;
        }
        
        .stat-card {
            background: var(--bg-card);
            backdrop-filter: blur(24px);
            border: 1px solid var(--border-card);
            border-radius: 16px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s ease;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
        }
        
        .stat-card:hover {
            border-color: var(--border-accent);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        }
        
        .stat-icon {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            margin: 0 auto 12px;
            background: linear-gradient(135deg, var(--tanda-cyan), var(--crypto-purple));
            color: var(--tanda-black);
            box-shadow: 0 0 15px rgba(0, 255, 255, 0.3);
        }
        
        .stat-value {
            font-size: 24px;
            font-weight: 700;
            color: var(--tanda-cyan);
            margin-bottom: 4px;
        }
        
        .stat-label {
            font-size: 12px;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        /* ================================
           üìã TABS SECTION
           ================================ */
        .tabs-section {
            background: var(--bg-card);
            backdrop-filter: blur(24px);
            border: 1px solid var(--border-card);
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 32px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }
        
        .tabs-header {
            display: flex;
            gap: 8px;
            margin-bottom: 24px;
            border-bottom: 1px solid var(--border-card);
        }
        
        .tab-btn {
            padding: 12px 24px;
            background: transparent;
            border: none;
            color: var(--text-secondary);
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            border-bottom: 2px solid transparent;
        }
        
        .tab-btn.active {
            color: var(--tanda-cyan);
            border-bottom-color: var(--tanda-cyan);
        }
        
        .tab-btn:hover {
            color: var(--tanda-cyan);
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        /* ================================
           üó≥Ô∏è PROPOSAL CARDS
           ================================ */
        .proposals-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 24px;
        }
        
        .proposal-card {
            background: var(--bg-card);
            backdrop-filter: blur(24px);
            border: 1px solid var(--border-card);
            border-radius: 16px;
            padding: 24px;
            transition: all 0.3s ease;
            cursor: pointer;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
        }
        
        .proposal-card:hover {
            border-color: var(--border-accent);
            transform: translateY(-4px);
            box-shadow: 0 12px 32px rgba(0, 0, 0, 0.4);
        }
        
        .proposal-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 16px;
        }
        
        .proposal-id {
            background: rgba(0, 255, 255, 0.2);
            color: var(--tanda-cyan);
            padding: 4px 8px;
            border-radius: 6px;
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
        }
        
        .proposal-status {
            padding: 4px 8px;
            border-radius: 6px;
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
        }
        
        .status-active {
            background: rgba(34, 213, 94, 0.2);
            color: var(--success-color);
        }
        
        .status-pending {
            background: rgba(251, 191, 36, 0.2);
            color: var(--warning-color);
        }
        
        .status-closed {
            background: rgba(100, 116, 139, 0.2);
            color: #64748b;
        }
        
        .proposal-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 12px;
            line-height: 1.4;
        }
        
        .proposal-description {
            font-size: 14px;
            color: var(--text-secondary);
            margin-bottom: 16px;
            line-height: 1.5;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        .proposal-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            margin-bottom: 16px;
        }
        
        .stat-item {
            text-align: center;
            padding: 8px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
        }
        
        .stat-item-value {
            font-size: 16px;
            font-weight: 600;
            color: var(--text-primary);
        }
        
        .stat-item-label {
            font-size: 11px;
            color: var(--text-secondary);
            text-transform: uppercase;
        }
        
        .voting-bar {
            margin-bottom: 16px;
        }
        
        .voting-bar-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 12px;
            color: var(--text-secondary);
        }
        
        .voting-progress {
            height: 8px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 4px;
            overflow: hidden;
            position: relative;
        }
        
        .voting-progress-bar {
            height: 100%;
            background: linear-gradient(135deg, var(--success-color), var(--tanda-cyan));
            transition: width 0.3s ease;
        }
        
        .proposal-actions {
            display: flex;
            gap: 8px;
        }
        
        .btn-vote {
            flex: 1;
            padding: 10px 16px;
            border-radius: 8px;
            font-weight: 600;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--tanda-cyan), var(--tanda-cyan-light));
            color: var(--tanda-black);
        }
        
        .btn-primary:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 15px rgba(0, 255, 255, 0.3);
        }
        
        .btn-secondary {
            background: transparent;
            color: var(--text-secondary);
            border: 1px solid var(--border-card);
        }
        
        .btn-secondary:hover {
            color: var(--tanda-cyan);
            border-color: var(--tanda-cyan);
        }
        
        /* ================================
           üìù CREATE PROPOSAL FORM
           ================================ */
        .create-form {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
        }
        
        .form-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .form-label {
            font-size: 14px;
            font-weight: 500;
            color: var(--text-secondary);
        }
        
        .form-input, .form-textarea, .form-select {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid var(--border-card);
            border-radius: 8px;
            padding: 12px 16px;
            color: var(--text-primary);
            font-size: 14px;
            transition: all 0.3s ease;
        }
        
        .form-textarea {
            resize: vertical;
            min-height: 100px;
        }
        
        .form-input:focus, .form-textarea:focus, .form-select:focus {
            outline: none;
            border-color: var(--tanda-cyan);
            box-shadow: 0 0 0 2px rgba(0, 255, 255, 0.2);
        }
        
        /* ================================
           üí∞ TREASURY SECTION
           ================================ */
        .treasury-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 24px;
        }
        
        .treasury-card {
            background: var(--bg-card);
            backdrop-filter: blur(24px);
            border: 1px solid var(--border-card);
            border-radius: 16px;
            padding: 24px;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
        }
        
        .treasury-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 20px;
        }
        
        .treasury-icon {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, var(--crypto-gold), #ffa500);
            color: var(--tanda-black);
        }
        
        .treasury-title {
            font-size: 16px;
            font-weight: 600;
            color: var(--text-primary);
        }
        
        .treasury-balance {
            font-size: 32px;
            font-weight: 700;
            color: var(--tanda-cyan);
            margin-bottom: 8px;
        }
        
        .treasury-usd {
            font-size: 14px;
            color: var(--text-secondary);
            margin-bottom: 16px;
        }
        
        .treasury-details {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
        }
        
        .detail-item {
            text-align: center;
            padding: 8px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 6px;
        }
        
        .detail-value {
            font-size: 14px;
            font-weight: 600;
            color: var(--text-primary);
        }
        
        .detail-label {
            font-size: 11px;
            color: var(--text-secondary);
            text-transform: uppercase;
        }
        
        /* ================================
           üì± RESPONSIVE DESIGN
           ================================ */
        @media (max-width: 768px) {
            body {
                padding: 16px;
            }
            
            .nav-header {
                flex-direction: column;
                gap: 16px;
                text-align: center;
            }
            
            .nav-left {
                flex-direction: column;
                gap: 12px;
            }
            
            .stats-section {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .proposals-grid {
                grid-template-columns: 1fr;
            }
            
            .tabs-header {
                flex-wrap: wrap;
            }
            
            .proposal-stats {
                grid-template-columns: 1fr;
            }
            
            .treasury-grid {
                grid-template-columns: 1fr;
            }
        }
        
        /* ================================
           ‚ú® ANIMATIONS
           ================================ */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .proposal-card {
            animation: fadeIn 0.3s ease;
        }
        
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 40px;
            color: var(--text-secondary);
        }
        
        .spinner {
            width: 40px;
            height: 40px;
            border: 3px solid var(--border-card);
            border-top: 3px solid var(--tanda-cyan);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-right: 12px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
  <script async type="module" crossorigin src="/assets/js/governance-6F3hq9O7.js"></script>
  <script type="module">import.meta.url;import("_").catch(()=>1);(async function*(){})().next();if(location.protocol!="file:"){window.__vite_is_modern_browser=true}</script>
  <script type="module">!function(){if(window.__vite_is_modern_browser)return;console.warn("vite: loading legacy chunks, syntax error above and the same error below should be ignored");var e=document.getElementById("vite-legacy-polyfill"),n=document.createElement("script");n.src=e.src,n.onload=function(){System.import(document.getElementById('vite-legacy-entry').getAttribute('data-src'))},document.body.appendChild(n)}();</script>
<link rel="manifest" href="/manifest.webmanifest"><script id="vite-plugin-pwa:register-sw" src="/registerSW.js"></script>    <link rel="stylesheet" href="css/variables.css">
    <link rel="stylesheet" href="css/header.css?v=24.5">
    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://latanda.online/governance.html">
    <meta property="og:title" content="Gobernanza | La Tanda">
    <meta property="og:description" content="Participa en las decisiones de la comunidad La Tanda.">
    <meta property="og:image" content="https://latanda.online/assets/og-image.png">
    <meta property="og:site_name" content="La Tanda">
    <meta property="og:locale" content="es_HN">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Gobernanza | La Tanda">
    <meta name="twitter:description" content="Participa en las decisiones de la comunidad La Tanda.">
    <meta name="twitter:image" content="https://latanda.online/assets/og-image.png">
</head>
<body>
    <!-- Global Header Component -->
    <div id="global-header"></div>
    <!-- Navigation Header -->
    <nav class="nav-header">
        <div class="nav-left">
            <button class="back-btn" onclick="window.location.href='home-dashboard.html'">
                <i class="fas fa-arrow-left"></i> Dashboard
            </button>
            <h1 class="page-title">
                üó≥Ô∏è Governance
            </h1>
        </div>
        <div class="nav-links">
            <a href="staking.html" class="nav-link">
                <i class="fas fa-coins"></i> Staking
            </a>
            <a href="web3-dashboard.html" class="nav-link">
                <i class="fas fa-chart-line"></i> Exchange
            </a>
            <a href="nft-memberships.html" class="nav-link">
                <i class="fas fa-crown"></i> Memberships
            </a>
        </div>
    </nav>

    <div class="governance-container">
        <!-- Stats Section -->
        <div class="stats-section">
            <div class="stat-card">
                <div class="stat-icon">
                    <i class="fas fa-vote-yea"></i>
                </div>
                <div class="stat-value" id="totalProposals">23</div>
                <div class="stat-label">Propuestas Activas</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">
                    <i class="fas fa-users"></i>
                </div>
                <div class="stat-value" id="totalVoters">1,847</div>
                <div class="stat-label">Votantes Registrados</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">
                    <i class="fas fa-percentage"></i>
                </div>
                <div class="stat-value" id="participationRate">72.3%</div>
                <div class="stat-label">Participaci√≥n</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">
                    <i class="fas fa-coins"></i>
                </div>
                <div class="stat-value" id="votingPower">2.4M</div>
                <div class="stat-label">Poder de Voto Total</div>
            </div>
        </div>

        <!-- Tabs Section -->
        <div class="tabs-section">
            <div class="tabs-header">
                <button class="tab-btn active" onclick="switchTab('proposals')">
                    <i class="fas fa-list"></i> Propuestas
                </button>
                <button class="tab-btn" onclick="switchTab('create')">
                    <i class="fas fa-plus"></i> Crear Propuesta
                </button>
                <button class="tab-btn" onclick="switchTab('treasury')">
                    <i class="fas fa-vault"></i> Treasury
                </button>
                <button class="tab-btn" onclick="switchTab('delegates')">
                    <i class="fas fa-user-tie"></i> Delegados
                </button>
            </div>

            <!-- Proposals Tab -->
            <div id="proposals-tab" class="tab-content active">
                <div class="proposals-grid" id="proposalsGrid">
                    <div class="loading">
                        <div class="spinner"></div>
                        Cargando propuestas...
                    </div>
                </div>
            </div>

            <!-- Create Proposal Tab -->
            <div id="create-tab" class="tab-content">
                <form class="create-form" id="createProposalForm">
                    <div class="form-group">
                        <label class="form-label">T√≠tulo de la Propuesta</label>
                        <input type="text" class="form-input" placeholder="Ej: Actualizaci√≥n del protocolo de staking" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Descripci√≥n Detallada</label>
                        <textarea class="form-textarea" placeholder="Describe la propuesta, sus beneficios y el impacto en el protocolo..." required></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Tipo de Propuesta</label>
                        <select class="form-select" required>
                            <option value="">Seleccionar tipo</option>
                            <option value="protocol">Actualizaci√≥n de Protocolo</option>
                            <option value="treasury">Uso de Treasury</option>
                            <option value="parameter">Cambio de Par√°metros</option>
                            <option value="integration">Nueva Integraci√≥n</option>
                            <option value="community">Iniciativa Comunitaria</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Duraci√≥n de Votaci√≥n (d√≠as)</label>
                        <select class="form-select" required>
                            <option value="3">3 d√≠as</option>
                            <option value="7" selected>7 d√≠as</option>
                            <option value="14">14 d√≠as</option>
                            <option value="30">30 d√≠as</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Qu√≥rum M√≠nimo (%)</label>
                        <input type="number" class="form-input" placeholder="15" min="1" max="100" value="15" required>
                    </div>
                    
                    <div class="form-group">
                        <button type="submit" class="btn-vote btn-primary" style="width: 100%; padding: 16px;">
                            <i class="fas fa-plus"></i> Crear Propuesta
                        </button>
                    </div>
                </form>
            </div>

            <!-- Treasury Tab -->
            <div id="treasury-tab" class="tab-content">
                <div class="treasury-grid" id="treasuryGrid">
                    <div class="loading">
                        <div class="spinner"></div>
                        Cargando informaci√≥n del treasury...
                    </div>
                </div>
            </div>

            <!-- Delegates Tab -->
            <div id="delegates-tab" class="tab-content">
                <div style="text-align: center; padding: 40px; color: var(--text-secondary);">
                    <i class="fas fa-user-tie" style="font-size: 48px; margin-bottom: 16px; opacity: 0.5;"></i>
                    <h3>Sistema de Delegados</h3>
                    <p>El sistema de delegaci√≥n estar√° disponible pr√≥ximamente</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Governance Management System
        class GovernanceManager {
            constructor() {
                this.proposals = [];
                this.treasuryData = [];
                this.currentTab = 'proposals';
                this.userVotingPower = 0;
                this.init();
            }

            init() {
                this.loadProposals();
                this.loadTreasuryData();
                this.setupEventListeners();
                this.updateStats();
                this.checkUserVotingPower();
            }

            setupEventListeners() {
                const createForm = document.getElementById('createProposalForm');
                createForm.addEventListener('submit', (e) => {
                    e.preventDefault();
                    this.createProposal();
                });
            }

            async loadProposals() {
                try {
                    this.proposals = this.generateDemoProposals();
                    this.renderProposals();
                    console.log(`‚úÖ Loaded ${this.proposals.length} governance proposals`);
                } catch (error) {
                    console.error('Error loading proposals:', error);
                }
            }

            generateDemoProposals() {
                const proposals = [];
                const types = ['protocol', 'treasury', 'parameter', 'integration', 'community'];
                const statuses = ['active', 'pending', 'closed'];
                
                const proposalData = [
                    {
                        title: 'Actualizaci√≥n del Sistema de Staking',
                        description: 'Propuesta para aumentar los rewards de staking y agregar nuevas pools con diferentes per√≠odos de lock.',
                        type: 'protocol'
                    },
                    {
                        title: 'Integraci√≥n con Chainlink Oracle',
                        description: 'Implementar feeds de precios de Chainlink para mejorar la precisi√≥n en los intercambios DeFi.',
                        type: 'integration'
                    },
                    {
                        title: 'Fondo de Desarrollo Comunitario',
                        description: 'Asignar 50,000 LTD del treasury para financiar proyectos de desarrollo propuestos por la comunidad.',
                        type: 'treasury'
                    },
                    {
                        title: 'Reducci√≥n de Fees de Transacci√≥n',
                        description: 'Propuesta para reducir las comisiones de transacci√≥n del 0.3% al 0.1% para mejorar la competitividad.',
                        type: 'parameter'
                    },
                    {
                        title: 'Programa de Ambassadors',
                        description: 'Crear un programa de embajadores con incentivos en LTD para promover el ecosistema La Tanda.',
                        type: 'community'
                    },
                    {
                        title: 'Bridge Multi-Chain',
                        description: 'Desarrollo de un bridge nativo para conectar La Tanda Chain con Ethereum, Polygon y BSC.',
                        type: 'protocol'
                    }
                ];

                proposalData.forEach((data, index) => {
                    const status = index < 4 ? 'active' : statuses[Math.floor(Math.random() * statuses.length)];
                    const votesFor = Math.floor(Math.random() * 500000) + 100000;
                    const votesAgainst = Math.floor(Math.random() * 200000);
                    const totalVotes = votesFor + votesAgainst;
                    
                    proposals.push({
                        id: `PROP-${(index + 1).toString().padStart(3, '0')}`,
                        title: data.title,
                        description: data.description,
                        type: data.type,
                        status: status,
                        proposer: `0x${Math.random().toString(16).substr(2, 8)}...`,
                        createdAt: new Date(Date.now() - Math.random() * 14 * 24 * 60 * 60 * 1000),
                        endDate: new Date(Date.now() + (7 * 24 * 60 * 60 * 1000)),
                        votesFor: votesFor,
                        votesAgainst: votesAgainst,
                        totalVotes: totalVotes,
                        quorum: 15 + Math.floor(Math.random() * 15), // 15-30%
                        votingPowerRequired: 1000 + Math.floor(Math.random() * 5000)
                    });
                });

                return proposals.sort((a, b) => b.createdAt - a.createdAt);
            }

            renderProposals() {
                const container = document.getElementById('proposalsGrid');
                
                if (this.proposals.length === 0) {
                    container.innerHTML = `
                        <div style="grid-column: 1 / -1; text-align: center; padding: 40px; color: var(--text-secondary);">
                            <i class="fas fa-vote-yea" style="font-size: 48px; margin-bottom: 16px; opacity: 0.5;"></i>
                            <h3>No hay propuestas activas</h3>
                            <p>S√© el primero en crear una propuesta para el protocolo</p>
                        </div>
                    `;
                    return;
                }

                const proposalsHTML = this.proposals.map(proposal => {
                    const statusClass = `status-${proposal.status}`;
                    const approvalRate = ((proposal.votesFor / proposal.totalVotes) * 100).toFixed(1);
                    const daysLeft = Math.max(0, Math.ceil((proposal.endDate - new Date()) / (1000 * 60 * 60 * 24)));
                    
                    const typeLabels = {
                        protocol: 'Protocolo',
                        treasury: 'Treasury',
                        parameter: 'Par√°metros',
                        integration: 'Integraci√≥n',
                        community: 'Comunidad'
                    };

                    const statusLabels = {
                        active: 'Activa',
                        pending: 'Pendiente',
                        closed: 'Cerrada'
                    };

                    return `
                        <div class="proposal-card" onclick="showProposalDetails('${proposal.id}')">
                            <div class="proposal-header">
                                <div class="proposal-id">${proposal.id}</div>
                                <div class="proposal-status ${statusClass}">${statusLabels[proposal.status]}</div>
                            </div>
                            
                            <div class="proposal-title">${proposal.title}</div>
                            <div class="proposal-description">${proposal.description}</div>
                            
                            <div class="proposal-stats">
                                <div class="stat-item">
                                    <div class="stat-item-value">${typeLabels[proposal.type]}</div>
                                    <div class="stat-item-label">Tipo</div>
                                </div>
                                <div class="stat-item">
                                    <div class="stat-item-value">${proposal.totalVotes.toLocaleString()}</div>
                                    <div class="stat-item-label">Votos</div>
                                </div>
                                <div class="stat-item">
                                    <div class="stat-item-value">${daysLeft}d</div>
                                    <div class="stat-item-label">Restantes</div>
                                </div>
                            </div>
                            
                            <div class="voting-bar">
                                <div class="voting-bar-header">
                                    <span>Aprobaci√≥n: ${approvalRate}%</span>
                                    <span>Qu√≥rum: ${proposal.quorum}%</span>
                                </div>
                                <div class="voting-progress">
                                    <div class="voting-progress-bar" style="width: ${approvalRate}%"></div>
                                </div>
                            </div>
                            
                            <div class="proposal-actions">
                                ${proposal.status === 'active' ? 
                                    `<button class="btn-vote btn-primary" onclick="event.stopPropagation(); voteProposal('${proposal.id}', 'for')">
                                        <i class="fas fa-thumbs-up"></i> A Favor
                                    </button>
                                    <button class="btn-vote btn-secondary" onclick="event.stopPropagation(); voteProposal('${proposal.id}', 'against')">
                                        <i class="fas fa-thumbs-down"></i> En Contra
                                    </button>` :
                                    `<button class="btn-vote btn-secondary" style="width: 100%;" onclick="event.stopPropagation(); showProposalDetails('${proposal.id}')">
                                        <i class="fas fa-eye"></i> Ver Detalles
                                    </button>`
                                }
                            </div>
                        </div>
                    `;
                }).join('');

                container.innerHTML = proposalsHTML;
            }

            loadTreasuryData() {
                this.treasuryData = [
                    {
                        token: 'LTD',
                        balance: 2500000,
                        usdValue: 2125000,
                        allocation: 'Governance',
                        locked: 1800000,
                        available: 700000
                    },
                    {
                        token: 'ETH',
                        balance: 150.5,
                        usdValue: 245000,
                        allocation: 'Bridge Reserve',
                        locked: 100,
                        available: 50.5
                    },
                    {
                        token: 'USDC',
                        balance: 500000,
                        usdValue: 500000,
                        allocation: 'Stability Fund',
                        locked: 300000,
                        available: 200000
                    }
                ];
                this.renderTreasury();
            }

            renderTreasury() {
                const container = document.getElementById('treasuryGrid');
                
                const treasuryHTML = this.treasuryData.map(asset => {
                    const lockedPercentage = ((asset.locked / asset.balance) * 100).toFixed(1);
                    
                    return `
                        <div class="treasury-card">
                            <div class="treasury-header">
                                <div class="treasury-icon">
                                    <i class="fas fa-coins"></i>
                                </div>
                                <div class="treasury-title">${asset.token} Treasury</div>
                            </div>
                            
                            <div class="treasury-balance">${asset.balance.toLocaleString()} ${asset.token}</div>
                            <div class="treasury-usd">‚âà $${asset.usdValue.toLocaleString()} USD</div>
                            
                            <div class="treasury-details">
                                <div class="detail-item">
                                    <div class="detail-value">${asset.locked.toLocaleString()}</div>
                                    <div class="detail-label">Bloqueado</div>
                                </div>
                                <div class="detail-item">
                                    <div class="detail-value">${asset.available.toLocaleString()}</div>
                                    <div class="detail-label">Disponible</div>
                                </div>
                                <div class="detail-item">
                                    <div class="detail-value">${lockedPercentage}%</div>
                                    <div class="detail-label">% Bloqueado</div>
                                </div>
                                <div class="detail-item">
                                    <div class="detail-value">${asset.allocation}</div>
                                    <div class="detail-label">Prop√≥sito</div>
                                </div>
                            </div>
                        </div>
                    `;
                }).join('');

                container.innerHTML = treasuryHTML;
            }

            updateStats() {
                const activeProposals = this.proposals.filter(p => p.status === 'active').length;
                document.getElementById('totalProposals').textContent = activeProposals;
                
                // Simulate other stats
                document.getElementById('totalVoters').textContent = '1,847';
                document.getElementById('participationRate').textContent = '72.3%';
                document.getElementById('votingPower').textContent = '2.4M';
            }

            checkUserVotingPower() {
                // Simulate user voting power based on LTD holdings and NFT membership
                this.userVotingPower = 2500; // Example voting power
            }

            createProposal() {
                // Simulate proposal creation
                if (this.userVotingPower < 1000) {
                    alert('‚ùå Poder de voto insuficiente\n\nNecesitas al menos 1,000 en voting power para crear propuestas.\nObt√©n m√°s tokens LTD o una membres√≠a NFT premium.');
                    return;
                }
                
                alert('‚úÖ ¬°Propuesta creada exitosamente!\n\nTu propuesta ser√° revisada por la comunidad y estar√° disponible para votaci√≥n en 24 horas.');
                document.getElementById('createProposalForm').reset();
            }
        }

        // Global functions
        function switchTab(tabName) {
            // Update tab buttons
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');

            // Update tab content
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            document.getElementById(`${tabName}-tab`).classList.add('active');

            governanceManager.currentTab = tabName;
        }

        function voteProposal(proposalId, vote) {
            const proposal = governanceManager.proposals.find(p => p.id === proposalId);
            if (!proposal) return;

            if (governanceManager.userVotingPower < 100) {
                alert('‚ùå Poder de voto insuficiente\n\nNecesitas al menos 100 en voting power para votar.\nObt√©n tokens LTD o una membres√≠a NFT.');
                return;
            }

            const voteText = vote === 'for' ? 'a favor' : 'en contra';
            const confirmed = confirm(`¬øConfirmas tu voto ${voteText} para "${proposal.title}"?\n\nPoder de voto: ${governanceManager.userVotingPower.toLocaleString()}`);
            
            if (confirmed) {
                alert(`‚úÖ ¬°Voto registrado!\n\nHas votado ${voteText} en la propuesta ${proposal.id}.\nTu voto ser√° contabilizado en la blockchain.`);
                
                // Update proposal votes (simulation)
                if (vote === 'for') {
                    proposal.votesFor += governanceManager.userVotingPower;
                } else {
                    proposal.votesAgainst += governanceManager.userVotingPower;
                }
                proposal.totalVotes = proposal.votesFor + proposal.votesAgainst;
                
                // Re-render proposals
                governanceManager.renderProposals();
            }
        }

        function showProposalDetails(proposalId) {
            const proposal = governanceManager.proposals.find(p => p.id === proposalId);
            if (!proposal) return;

            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
                background: rgba(0, 0, 0, 0.8); display: flex; align-items: center; 
                justify-content: center; z-index: 1000; backdrop-filter: blur(8px);
            `;

            const approvalRate = ((proposal.votesFor / proposal.totalVotes) * 100).toFixed(1);
            const daysLeft = Math.max(0, Math.ceil((proposal.endDate - new Date()) / (1000 * 60 * 60 * 24)));

            modal.innerHTML = `
                <div style="background: var(--bg-card); backdrop-filter: blur(24px); border: 2px solid var(--border-accent);
                           border-radius: 20px; padding: 32px; max-width: 600px; width: 90%; position: relative; max-height: 90vh; overflow-y: auto;">
                    <button onclick="this.closest('div').remove()" 
                            style="position: absolute; top: 16px; right: 16px; background: none; border: none; 
                                   color: var(--text-secondary); font-size: 24px; cursor: pointer;">√ó</button>
                    
                    <div style="text-align: center; margin-bottom: 24px;">
                        <div style="background: rgba(0,255,255,0.2); color: var(--tanda-cyan); padding: 8px 16px; 
                                    border-radius: 8px; display: inline-block; margin-bottom: 16px; font-weight: 600;">${proposal.id}</div>
                        <h2 style="color: var(--tanda-cyan); margin-bottom: 16px;">${proposal.title}</h2>
                        <p style="color: var(--text-secondary); line-height: 1.6;">${proposal.description}</p>
                    </div>
                    
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 16px; margin-bottom: 24px;">
                        <div style="padding: 16px; background: rgba(0, 0, 0, 0.3); border-radius: 12px; text-align: center;">
                            <div style="font-size: 24px; font-weight: 700; color: var(--success-color);">${proposal.votesFor.toLocaleString()}</div>
                            <div style="font-size: 12px; color: var(--text-secondary);">Votos A Favor</div>
                        </div>
                        <div style="padding: 16px; background: rgba(0, 0, 0, 0.3); border-radius: 12px; text-align: center;">
                            <div style="font-size: 24px; font-weight: 700; color: var(--error-color);">${proposal.votesAgainst.toLocaleString()}</div>
                            <div style="font-size: 12px; color: var(--text-secondary);">Votos En Contra</div>
                        </div>
                        <div style="padding: 16px; background: rgba(0, 0, 0, 0.3); border-radius: 12px; text-align: center;">
                            <div style="font-size: 24px; font-weight: 700; color: var(--tanda-cyan);">${approvalRate}%</div>
                            <div style="font-size: 12px; color: var(--text-secondary);">Aprobaci√≥n</div>
                        </div>
                        <div style="padding: 16px; background: rgba(0, 0, 0, 0.3); border-radius: 12px; text-align: center;">
                            <div style="font-size: 24px; font-weight: 700; color: var(--warning-color);">${daysLeft}</div>
                            <div style="font-size: 12px; color: var(--text-secondary);">D√≠as Restantes</div>
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 24px;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 8px; font-size: 14px;">
                            <span style="color: var(--text-secondary);">Progreso de Votaci√≥n</span>
                            <span style="color: var(--tanda-cyan);">${approvalRate}% Aprobaci√≥n</span>
                        </div>
                        <div style="height: 12px; background: rgba(0, 0, 0, 0.3); border-radius: 6px; overflow: hidden;">
                            <div style="height: 100%; width: ${approvalRate}%; background: linear-gradient(135deg, var(--success-color), var(--tanda-cyan)); transition: width 0.3s ease;"></div>
                        </div>
                    </div>
                    
                    ${proposal.status === 'active' ? 
                        `<div style="display: flex; gap: 12px;">
                            <button onclick="voteProposal('${proposal.id}', 'for')" style="flex: 1; padding: 16px; background: linear-gradient(135deg, var(--success-color), #16a34a); 
                                    color: white; border: none; border-radius: 12px; font-weight: 600; cursor: pointer;">
                                <i class="fas fa-thumbs-up"></i> Votar A Favor
                            </button>
                            <button onclick="voteProposal('${proposal.id}', 'against')" style="flex: 1; padding: 16px; background: linear-gradient(135deg, var(--error-color), #dc2626); 
                                    color: white; border: none; border-radius: 12px; font-weight: 600; cursor: pointer;">
                                <i class="fas fa-thumbs-down"></i> Votar En Contra
                            </button>
                        </div>` :
                        `<div style="text-align: center; padding: 16px; color: var(--text-secondary);">
                            <i class="fas fa-lock"></i> Esta propuesta ya no est√° disponible para votaci√≥n
                        </div>`
                    }
                </div>
            `;

            document.body.appendChild(modal);
        }

        // Initialize the governance manager when page loads
        let governanceManager;
        document.addEventListener('DOMContentLoaded', () => {
            governanceManager = new GovernanceManager();
        });
    </script>
  <script nomodule>!function(){var e=document,t=e.createElement("script");if(!("noModule"in t)&&"onbeforeload"in t){var n=!1;e.addEventListener("beforeload",(function(e){if(e.target===t)n=!0;else if(!e.target.hasAttribute("nomodule")||!n)return;e.preventDefault()}),!0),t.type="module",t.src=".",e.head.appendChild(t),t.remove()}}();</script>
  <script nomodule crossorigin id="vite-legacy-polyfill" src="/assets/js/polyfills-legacy-YD97Sv6k.js"></script>
  <script nomodule crossorigin id="vite-legacy-entry" data-src="/assets/js/governance-legacy-CvD272dr.js">System.import(document.getElementById('vite-legacy-entry').getAttribute('data-src'))</script>
    <script src="js/components-loader.js?v=30.2"></script>
    <script src="js/header.js"></script>
    <script src="shared-components.js?v=7.20"></script>
</body>
</html>
