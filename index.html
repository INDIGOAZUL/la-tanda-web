<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>La Tanda v2.0 - Ecosistema Financiero Completo</title>
    <meta name="description" content="Plataforma cooperativa de ahorro inteligente para Honduras - La Tanda v2.0">
    <meta name="keywords" content="cooperativa, ahorro, Honduras, fintech, La Tanda">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- Status Bar -->
        <div class="status-bar">
            <span>🤝 La Tanda v2.0</span>
            <span id="currentTime">--:--</span>
        </div>
        
        <!-- App Header -->
        <div class="app-header">
            <div class="app-title">🏛️ La Tanda</div>
            <div class="version-badge">v2.0 - Ecosistema Completo</div>
        </div>
        
        <!-- API Status Indicator -->
        <div id="apiStatus" class="api-status loading">🔄 Iniciando...</div>
        
        <!-- Alerts Container -->
        <div id="alertsContainer"></div>
        
        <!-- Authentication Screen -->
        <div id="authScreen" class="screen active">
            <div class="auth-form">
                <h2>🔐 Iniciar Sesión</h2>
                <form id="loginForm">
                    <input type="email" class="form-input" placeholder="Email" id="emailInput" value="demo@latanda.online" required>
                    <input type="password" class="form-input" placeholder="Contraseña" id="passwordInput" value="demo123" required>
                    <button type="submit" class="btn-primary">Ingresar</button>
                </form>
                <div class="demo-info">
                    <p>🎯 <strong>Cuenta Demo:</strong></p>
                    <p>📧 demo@latanda.online</p>
                    <p>🔑 demo123</p>
                </div>
            </div>
            
            <div class="feature-card">
                <div class="feature-title">🌟 Características Principales</div>
                <div class="feature-desc">
                    <ul>
                        <li>💰 Gestión inteligente de ahorros</li>
                        <li>👥 Grupos cooperativos organizados</li>
                        <li>📱 Interfaz móvil responsiva</li>
                        <li>🤖 Asistente MIA con IA</li>
                        <li>🔒 Seguridad bancaria</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <!-- Home Screen -->
        <div id="homeScreen" class="screen">
            <div class="welcome-section">
                <h2>👋 ¡Bienvenido!</h2>
                <p id="welcomeMessage">Dashboard de tu ecosistema financiero</p>
            </div>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number">L2,500</div>
                    <div class="stat-label">Balance Actual</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">3</div>
                    <div class="stat-label">Grupos Activos</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">12</div>
                    <div class="stat-label">Transacciones</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">5</div>
                    <div class="stat-label">Notificaciones</div>
                </div>
            </div>
            
            <div class="quick-actions">
                <h3>⚡ Acciones Rápidas</h3>
                <div class="actions-grid">
                    <button class="action-btn" onclick="app.switchScreen('groups')">
                        <span class="action-icon">👥</span>
                        <span>Ver Grupos</span>
                    </button>
                    <button class="action-btn" onclick="app.switchScreen('payments')">
                        <span class="action-icon">💳</span>
                        <span>Hacer Pago</span>
                    </button>
                    <button class="action-btn" onclick="app.switchScreen('mia')">
                        <span class="action-icon">🤖</span>
                        <span>Consultar MIA</span>
                    </button>
                    <button class="action-btn" onclick="app.showBalance()">
                        <span class="action-icon">💰</span>
                        <span>Ver Balance</span>
                    </button>
                </div>
            </div>
            
            <div class="recent-activity">
                <h3>📊 Actividad Reciente</h3>
                <div id="recentActivities">
                    <div class="activity-item">
                        <span class="activity-icon">💰</span>
                        <div class="activity-details">
                            <p>Aporte a Cooperativa Central</p>
                            <small>Hace 2 días - L500</small>
                        </div>
                    </div>
                    <div class="activity-item">
                        <span class="activity-icon">👥</span>
                        <div class="activity-details">
                            <p>Te uniste a Grupo Familiar</p>
                            <small>Hace 1 semana</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Groups Screen -->
        <div id="groupsScreen" class="screen">
            <div class="screen-header">
                <h2>👥 Mis Grupos</h2>
                <button class="btn-secondary" id="createGroupBtn">➕ Crear Grupo</button>
            </div>
            
            <div id="groupsList" class="groups-container">
                <!-- Groups will be loaded here -->
            </div>
            
            <div class="feature-card">
                <div class="feature-title">💡 ¿Sabías que?</div>
                <div class="feature-desc">
                    Como coordinador de grupo puedes ganar L2,000-8,000+ mensuales. 
                    <button class="btn-link" onclick="app.showCoordinatorInfo()">Más información</button>
                </div>
            </div>
        </div>
        
        <!-- Payments Screen -->
        <div id="paymentsScreen" class="screen">
            <div class="screen-header">
                <h2>💳 Pagos y Transacciones</h2>
                <button class="btn-secondary" id="processPaymentBtn">💰 Nuevo Pago</button>
            </div>
            
            <div class="payment-methods">
                <h3>💳 Métodos Disponibles</h3>
                <div class="methods-grid">
                    <div class="method-card" onclick="app.selectPaymentMethod('tigo')">
                        <div class="method-icon">📱</div>
                        <div class="method-name">Tigo Money</div>
                    </div>
                    <div class="method-card" onclick="app.selectPaymentMethod('claro')">
                        <div class="method-icon">📞</div>
                        <div class="method-name">Claro Money</div>
                    </div>
                    <div class="method-card" onclick="app.selectPaymentMethod('bank')">
                        <div class="method-icon">🏦</div>
                        <div class="method-name">Transferencia</div>
                    </div>
                </div>
            </div>
            
            <div id="paymentsList" class="payments-container">
                <!-- Payments will be loaded here -->
            </div>
        </div>
        
        <!-- MIA Screen -->
        <div id="miaScreen" class="screen">
            <div class="screen-header">
                <h2>🤖 MIA - Asistente Inteligente</h2>
                <div class="mia-status">🟢 En línea</div>
            </div>
            
            <div class="chat-container" id="chatContainer">
                <div class="chat-message message-mia">
                    ¡Hola! Soy MIA, tu asistente inteligente de La Tanda. ¿En qué puedo ayudarte hoy?
                </div>
            </div>
            
            <div class="chat-input-container">
                <input type="text" id="chatInput" placeholder="Escribe tu mensaje..." class="chat-input">
                <button onclick="app.sendMessage()" class="send-btn">📤</button>
            </div>
            
            <div class="quick-questions">
                <h4>💬 Preguntas Frecuentes</h4>
                <div class="questions-grid">
                    <button class="question-btn" onclick="app.askMIA('balance')">💰 Mi balance</button>
                    <button class="question-btn" onclick="app.askMIA('grupos')">👥 Mis grupos</button>
                    <button class="question-btn" onclick="app.askMIA('pago')">💳 Hacer pago</button>
                    <button class="question-btn" onclick="app.askMIA('ayuda')">❓ Ayuda</button>
                </div>
            </div>
        </div>
        
        <!-- Profile Screen -->
        <div id="profileScreen" class="screen">
            <div class="profile-header">
                <div class="profile-avatar">👤</div>
                <div class="profile-info">
                    <h2 id="profileName">Usuario Demo</h2>
                    <p id="profileEmail">demo@latanda.online</p>
                    <p class="profile-role">Miembro Verificado ✅</p>
                </div>
            </div>
            
            <div class="profile-stats">
                <div class="profile-stat">
                    <span class="stat-label">Miembro desde</span>
                    <span class="stat-value">Enero 2024</span>
                </div>
                <div class="profile-stat">
                    <span class="stat-label">Grupos</span>
                    <span class="stat-value">3 activos</span>
                </div>
                <div class="profile-stat">
                    <span class="stat-label">Transacciones</span>
                    <span class="stat-value">12 completadas</span>
                </div>
            </div>
            
            <div class="profile-actions">
                <button class="profile-btn" onclick="app.showEditProfile()">
                    <span class="btn-icon">✏️</span>
                    Editar Perfil
                </button>
                <button class="profile-btn" onclick="app.showSettings()">
                    <span class="btn-icon">⚙️</span>
                    Configuración
                </button>
                <button class="profile-btn" onclick="app.showHelp()">
                    <span class="btn-icon">❓</span>
                    Ayuda y Soporte
                </button>
                <button class="profile-btn danger" onclick="app.handleLogout()">
                    <span class="btn-icon">🚪</span>
                    Cerrar Sesión
                </button>
            </div>
        </div>
        
        <!-- Tab Navigation -->
        <div class="tab-navigation">
            <button class="nav-item" data-screen="home">
                <span class="nav-icon">🏠</span>
                <span class="nav-label">Inicio</span>
            </button>
            <button class="nav-item" data-screen="groups">
                <span class="nav-icon">👥</span>
                <span class="nav-label">Grupos</span>
            </button>
            <button class="nav-item" data-screen="payments">
                <span class="nav-icon">💳</span>
                <span class="nav-label">Pagos</span>
            </button>
            <button class="nav-item" data-screen="mia">
                <span class="nav-icon">🤖</span>
                <span class="nav-label">MIA</span>
            </button>
            <button class="nav-item" data-screen="profile">
                <span class="nav-icon">👤</span>
                <span class="nav-label">Perfil</span>
            </button>
        </div>
    </div>

    <!-- Load JavaScript -->
    <script src="app.js"></script>
</body>
</html>