<!DOCTYPE html>
<html lang="es">
<head>
  <script type="module" crossorigin src="/assets/js/polyfills--1Z-T_Bc.js"></script>

    <meta charset="UTF-8">
    <!-- Resource Optimization -->
    <!-- DNS Prefetch for external resources -->
    <link rel="dns-prefetch" href="https://cdnjs.cloudflare.com">
    <link rel="dns-prefetch" href="https://fonts.googleapis.com">
    <link rel="dns-prefetch" href="https://fonts.gstatic.com">
    <link rel="dns-prefetch" href="https://cdn.jsdelivr.net">
    
    <!-- Preconnect to critical origins -->
    <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-translate="defi.page_title">La Tanda Web3 - DeFi Dashboard</title>
    <meta name="description" content="Dashboard DeFi completo - La Tanda Web3 Ecosystem">
    <link rel="icon" href="/assets/images/favicon-B3hxl31q.png" type="image/png">
    <link rel="shortcut icon" href="/assets/images/favicon-B3hxl31q.png" type="image/png">
    <link rel="apple-touch-icon" href="/assets/images/favicon-B3hxl31q.png">
    <!-- Shared Components Integration - Load First for Priority -->
    <!-- Translation System Styles -->
    <link rel="manifest" href="/assets/json/manifest-GvDl68cn.json">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- Optimized Google Fonts loading -->
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap" as="style" onload="this.onload=null;this.rel=stylesheet">
    <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap"></noscript>
    <!-- Critical CSS: Font Awesome with async loading -->
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" as="style" crossorigin="anonymous" onload="this.onload=null;this.rel=stylesheet">
    <noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha384-iw3OoTErCYJJB9mCa8LNS2hbsQ7M3C0EpIsO/H5+EGAkPGc6rk+V8i04oW/K5xq0" crossorigin="anonymous"></noscript>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    <!-- Custom chart implementation - no external dependencies needed -->
  <script type="module" crossorigin src="/assets/js/web3Dashboard-CatT3MLp.js"></script>
  <link rel="modulepreload" crossorigin href="/assets/js/modulepreload-polyfill-YP0FEG5d.js">
  <link rel="modulepreload" crossorigin href="/assets/js/api-proxy-chunk-l0sNRNKZ.js">
  <link rel="modulepreload" crossorigin href="/assets/js/web3-dashboard-chunk-l0sNRNKZ.js">
  <link rel="modulepreload" crossorigin href="/assets/js/tandas-manager-chunk-l0sNRNKZ.js">
  <link rel="modulepreload" crossorigin href="/assets/js/shared-components-chunk-l0sNRNKZ.js">
  <link rel="stylesheet" crossorigin href="/assets/css/web3Dashboard-D02sxd8k.css">
  <link rel="stylesheet" crossorigin href="/assets/css/shared-components-v2-CszIIlFl.css">
  <link rel="stylesheet" crossorigin href="/assets/css/translation-styles-D7BFJdJy.css">
  <script type="module">import.meta.url;import("_").catch(()=>1);(async function*(){})().next();if(location.protocol!="file:"){window.__vite_is_modern_browser=true}</script>
  <script type="module">!function(){if(window.__vite_is_modern_browser)return;console.warn("vite: loading legacy chunks, syntax error above and the same error below should be ignored");var e=document.getElementById("vite-legacy-polyfill"),n=document.createElement("script");n.src=e.src,n.onload=function(){System.import(document.getElementById('vite-legacy-entry').getAttribute('data-src'))},document.body.appendChild(n)}();</script>
<link rel="manifest" href="/manifest.webmanifest"><script id="vite-plugin-pwa:register-sw" src="/registerSW.js"></script>    <link rel="stylesheet" href="css/variables.css">
    <link rel="stylesheet" href="css/header.css?v=24.5">
    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://latanda.online/web3-dashboard.html">
    <meta property="og:title" content="Web3 Dashboard | La Tanda">
    <meta property="og:description" content="Panel de control Web3, blockchain y DeFi.">
    <meta property="og:image" content="https://latanda.online/assets/og-image.png">
    <meta property="og:site_name" content="La Tanda">
    <meta property="og:locale" content="es_HN">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Web3 Dashboard | La Tanda">
    <meta name="twitter:description" content="Panel de control Web3, blockchain y DeFi.">
    <meta name="twitter:image" content="https://latanda.online/assets/og-image.png">
</head>
<body>
    <!-- Global Header Component -->
    <div id="global-header"></div>
    <!-- Professional Web3 Exchange Header -->
    <header class="web3-exchange-header">
        <!-- Top Bar with Branding and User Actions -->
        <div class="exchange-top-bar">
            <div class="top-bar-container">
                <!-- Left: Logo and Platform Name -->
                <div class="exchange-brand" onclick="dashboard.goHome()" style="cursor: pointer;" title="Return to Dashboard">
                    <img loading="lazy" src="/assets/images/favicon-B3hxl31q.png" alt="La Tanda" class="brand-logo">
                    <div class="brand-info">
                        <h1 class="platform-name">La Tanda</h1>
                        <span class="platform-type">Web3 Exchange</span>
                    </div>
                </div>
                
                <!-- Center: Network Status and Key Metrics -->
                <div class="exchange-metrics">
                    <div class="metric-item">
                        <span class="metric-label">Network</span>
                        <div class="metric-value">
                            <div class="network-status-indicator online"></div>
                            <span>Mainnet</span>
                            <span class="latency" id="networkLatency">12ms</span>
                        </div>
                    </div>
                    <div class="metric-item">
                        <span class="metric-label">LTD Price</span>
                        <div class="metric-value price-display">
                            <span class="price" id="currentLTDPrice">$0.7523</span>
                            <span class="price-change positive" id="priceChange">+2.87%</span>
                        </div>
                    </div>
                    <div class="metric-item">
                        <span class="metric-label">24h Volume</span>
                        <div class="metric-value" id="dailyVolumeMetric">$2.4M</div>
                    </div>
                </div>
                
                <!-- Right: Network, Wallet, Profile -->
                <div class="exchange-user-section">
                    <!-- Network Selector -->
                    <div class="network-selector" onclick="dashboard.toggleNetworkSelector()">
                        <div class="network-info">
                            <div class="network-status-indicator online"></div>
                            <span class="network-name">Mainnet</span>
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <!-- Network Dropdown -->
                        <div class="network-dropdown" id="networkDropdown" style="display: none;">
                            <div class="network-option active" onclick="dashboard.selectNetwork('mainnet')">
                                <div class="network-status-indicator online"></div>
                                <span>Mainnet</span>
                                <span class="network-latency">12ms</span>
                            </div>
                            <div class="network-option" onclick="dashboard.selectNetwork('testnet')">
                                <div class="network-status-indicator offline"></div>
                                <span>Testnet</span>
                                <span class="network-latency">--</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Wallet Connection -->
                    <div class="wallet-connection-pro" id="walletConnectionPro">
                        <div class="wallet-status-indicator">
                            <div class="status-dot" id="walletStatusDot"></div>
                            <span class="status-text" id="walletStatusText">Not Connected</span>
                        </div>
                        <button class="connect-wallet-pro" id="connectWalletPro" onclick="laTandaEcosystem?.handleWalletConnect()">
                            <i class="fas fa-wallet"></i>
                            <span>Connect Wallet</span>
                        </button>
                    </div>
                    
                    <!-- User Balance -->
                    <div class="user-balance" id="userBalanceSection" style="display: none;">
                        <div class="balance-info">
                            <span class="balance-label">Balance</span>
                            <div class="balance-amount">
                                <span class="amount" id="userBalanceAmount">0.00</span>
                                <span class="currency">LTD</span>
                            </div>
                            <span class="balance-usd" id="userBalanceUSD">~$0.00</span>
                        </div>
                        <button class="balance-actions" onclick="dashboard.toggleWalletDetails()">
                            <i class="fas fa-chevron-down"></i>
                        </button>
                    </div>
                    
                    <!-- Profile Menu -->
                    <div class="profile-menu" onclick="dashboard.toggleProfileMenu()">
                        <div class="profile-avatar">
                            <i class="fas fa-user-circle"></i>
                        </div>
                        <i class="fas fa-chevron-down profile-arrow"></i>
                        
                        <!-- Profile Dropdown -->
                        <div class="profile-dropdown" id="profileDropdown" style="display: none;">
                            <div class="profile-header">
                                <div class="profile-info">
                                    <div class="profile-avatar-large">
                                        <i class="fas fa-user-circle"></i>
                                    </div>
                                    <div class="profile-details">
                                        <span class="profile-name">La Tanda User</span>
                                        <span class="profile-id" id="profileWalletId">Not connected</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="profile-menu-items">
                                <a href="#" class="profile-menu-item" onclick="dashboard.openProfile()">
                                    <i class="fas fa-user"></i>
                                    <span>My Profile</span>
                                </a>
                                <a href="#" class="profile-menu-item" onclick="dashboard.openWalletDetails()">
                                    <i class="fas fa-wallet"></i>
                                    <span>Wallet Details</span>
                                </a>
                                <a href="#" class="profile-menu-item" onclick="dashboard.openTransactionHistory()">
                                    <i class="fas fa-history"></i>
                                    <span>Transaction History</span>
                                </a>
                                <a href="#" class="profile-menu-item" onclick="dashboard.openSettings()">
                                    <i class="fas fa-cog"></i>
                                    <span>Settings</span>
                                </a>
                                <div class="profile-menu-divider"></div>
                                <a href="#" class="profile-menu-item" onclick="dashboard.toggleTheme()">
                                    <i class="fas fa-moon" id="themeToggleIcon"></i>
                                    <span>Dark Mode</span>
                                    <div class="theme-toggle">
                                        <input type="checkbox" id="themeCheckbox" checked>
                                        <label for="themeCheckbox" class="toggle-slider"></label>
                                    </div>
                                </a>
                                <a href="#" class="profile-menu-item" onclick="dashboard.openLanguageSelector()">
                                    <i class="fas fa-globe"></i>
                                    <span>Language</span>
                                    <span class="language-current">EN</span>
                                </a>
                                <div class="profile-menu-divider"></div>
                                <a href="#" class="profile-menu-item" onclick="dashboard.openSupport()">
                                    <i class="fas fa-question-circle"></i>
                                    <span>Help & Support</span>
                                </a>
                                <a href="#" class="profile-menu-item disconnect" onclick="laTandaEcosystem?.handleWalletConnect()" id="disconnectWalletBtn" style="display: none;">
                                    <i class="fas fa-sign-out-alt"></i>
                                    <span>Disconnect Wallet</span>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
    </header>
    
    <!-- Background Effects -->
    <div class="bg-effects">
        <div class="bg-grid"></div>
        <div class="bg-glow"></div>
        <div class="particles" id="particles"></div>
    </div>

    <!-- Global Loading Overlay -->
    <div class="global-loading" id="globalLoading" style="display: none;">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <div class="loading-text">Procesando transacciÃ³n...</div>
        </div>
    </div>

    <!-- Main Container -->
    <div class="dashboard-container">
    <!-- Market Ticker Strip - Moved Below Header -->
    <div class="market-ticker-strip">
        <div class="ticker-container">
            <div class="ticker-scroll" id="marketTicker">
                <div class="ticker-pair">
                    <span class="pair-name">LTD/USDC</span>
                    <span class="pair-price positive">$0.7523</span>
                    <span class="pair-change">+5.24%</span>
                </div>
                <div class="ticker-pair">
                    <span class="pair-name">LTD/ETH</span>
                    <span class="pair-price negative">â‚¿0.000234</span>
                    <span class="pair-change">-2.18%</span>
                </div>
                <div class="ticker-pair">
                    <span class="pair-name">BTC/USD</span>
                    <span class="pair-price positive">$43,750</span>
                    <span class="pair-change">+3.45%</span>
                </div>
                <div class="ticker-pair">
                    <span class="pair-name">ETH/USD</span>
                    <span class="pair-price positive">$2,650</span>
                    <span class="pair-change">+2.87%</span>
                </div>
                <div class="ticker-pair">
                    <span class="pair-name">Total TVL</span>
                    <span class="pair-price">$847M</span>
                    <span class="pair-change positive">+15.2%</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Professional Navigation Tabs -->
    <nav class="web3-navigation">
        <div class="nav-container">
            <div class="nav-tabs">
                <button class="nav-tab active" data-section="trading" onclick="dashboard.showSection('trading')">
                    <i class="fas fa-chart-line"></i>
                    <span>Trading</span>
                    <div class="tab-indicator"></div>
                </button>
                <button class="nav-tab" data-section="defi" onclick="dashboard.showSection('defi')">
                    <i class="fas fa-coins"></i>
                    <span>DeFi</span>
                    <div class="tab-indicator"></div>
                </button>
                <button class="nav-tab" data-section="tandas" onclick="dashboard.showSection('tandas')">
                    <i class="fas fa-users"></i>
                    <span>Tandas</span>
                    <div class="tab-indicator"></div>
                </button>
                <button class="nav-tab" data-section="nft" onclick="dashboard.showSection('nft')">
                    <i class="fas fa-gem"></i>
                    <span>NFT</span>
                    <div class="tab-indicator"></div>
                </button>
                <button class="nav-tab" data-section="dao" onclick="dashboard.showSection('dao')">
                    <i class="fas fa-vote-yea"></i>
                    <span>DAO</span>
                    <div class="tab-indicator"></div>
                </button>
            </div>
            
            <div class="nav-tools">
                <div class="search-tool">
                    <i class="fas fa-search"></i>
                    <input type="text" placeholder="Search tokens, pairs..." class="search-input">
                </div>
                <button class="tool-btn" title="Quick Settings" onclick="dashboard.toggleQuickSettings()">
                    <i class="fas fa-cog"></i>
                </button>
                <button class="tool-btn" title="Notifications" onclick="dashboard.toggleNotifications()">
                    <i class="fas fa-bell"></i>
                    <span class="notification-badge">3</span>
                </button>
                <!-- Mobile Menu Toggle -->
                <button class="mobile-menu-toggle" onclick="dashboard.toggleMobileMenu()" style="display: none;">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </div>
    </nav>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Professional Trading Dashboard -->

            <!-- Professional Trading Interface -->
            <div class="trading-dashboard">
                <!-- Primary Trading Row -->
                <div class="trading-row main-trading">
                    <!-- Price Chart Section -->
                    <div class="trading-panel chart-panel">
                        <div class="panel-header">
                            <div class="pair-info">
                                <div class="trading-pair">
                                    <img loading="lazy" src="/assets/images/favicon-B3hxl31q.png" alt="LTD" class="pair-icon">
                                    <span class="pair-name">LTD/USDC</span>
                                </div>
                                <div class="price-data">
                                    <div class="current-price">$0.7523</div>
                                    <div class="price-change positive">+$0.0387 (+5.42%)</div>
                                </div>
                            </div>
                            <div class="chart-controls">
                                <div class="timeframe-selector">
                                    <button class="tf-btn" data-timeframe="1m" onclick="tradingInterface.changeTimeframe('1m')">1m</button>
                                    <button class="tf-btn" data-timeframe="5m" onclick="tradingInterface.changeTimeframe('5m')">5m</button>
                                    <button class="tf-btn" data-timeframe="15m" onclick="tradingInterface.changeTimeframe('15m')">15m</button>
                                    <button class="tf-btn active" data-timeframe="1h" onclick="tradingInterface.changeTimeframe('1h')">1h</button>
                                    <button class="tf-btn" data-timeframe="4h" onclick="tradingInterface.changeTimeframe('4h')">4h</button>
                                    <button class="tf-btn" data-timeframe="1d" onclick="tradingInterface.changeTimeframe('1d')">1d</button>
                                </div>
                                <div class="chart-tools">
                                    <button class="tool-btn" title="Fullscreen" onclick="tradingInterface.toggleFullscreen()"><i class="fas fa-expand"></i></button>
                                    <button class="tool-btn" title="Technical Indicators" onclick="tradingInterface.toggleIndicators()"><i class="fas fa-chart-line"></i></button>
                                    <button class="tool-btn" title="Market Analysis" onclick="tradingInterface.showMarketAnalysis()"><i class="fas fa-brain"></i></button>
                                    <button class="tool-btn" title="Position Management" onclick="tradingInterface.showPositionManagement()"><i class="fas fa-wallet"></i></button>
                                    <button class="tool-btn" title="Chart Settings" onclick="tradingInterface.showChartSettings()"><i class="fas fa-cog"></i></button>
                                    <button class="tool-btn" title="Chart Type" onclick="tradingInterface.toggleChartType()" id="chartTypeBtn"><i class="fas fa-signal"></i></button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="chart-container">
                            <!-- ðŸš€ FUTURISTIC 2030 CHART SYSTEM -->
                            <futuristic-chart-2030 
                                id="nextGenChart" 
                                symbol="LTD/USDC" 
                                theme="cyberpunk"
                                ai-enabled="true"
                                webgl-accelerated="true"
                                voice-control="true"
                                style="width: 100%; height: 100%; min-height: 450px;">
                            </futuristic-chart-2030>
                        </div>
                        
                        <!-- Chart Stats Bar -->
                        <div class="chart-stats">
                            <div class="stat-item">
                                <span class="stat-label">24h Volume</span>
                                <span class="stat-value">$2.4M</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">24h High</span>
                                <span class="stat-value">$0.7845</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">24h Low</span>
                                <span class="stat-value">$0.7102</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Market Cap</span>
                                <span class="stat-value">$18.7M</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Order Book Panel -->
                    <div class="trading-panel orderbook-panel">
                        <div class="panel-header">
                            <h3>Order Book</h3>
                            <div class="orderbook-controls">
                                <button class="precision-btn active" data-precision="4">0.0001</button>
                                <button class="precision-btn" data-precision="3">0.001</button>
                                <button class="precision-btn" data-precision="2">0.01</button>
                            </div>
                        </div>
                        
                        <div class="orderbook-content">
                            <!-- Sell Orders (Red) -->
                            <div class="orders-section sells">
                                <div class="orders-header">
                                    <span class="price-header">Price (USDC)</span>
                                    <span class="amount-header">Amount (LTD)</span>
                                    <span class="total-header">Total</span>
                                </div>
                                <div class="orders-list" id="sellOrders">
                                    <div class="order-row sell">
                                        <span class="price">0.7624</span>
                                        <span class="amount">1,245.67</span>
                                        <span class="total">949.32</span>
                                        <div class="order-depth" style="width: 45%"></div>
                                    </div>
                                    <div class="order-row sell">
                                        <span class="price">0.7615</span>
                                        <span class="amount">2,891.23</span>
                                        <span class="total">2,202.15</span>
                                        <div class="order-depth" style="width: 68%"></div>
                                    </div>
                                    <div class="order-row sell">
                                        <span class="price">0.7589</span>
                                        <span class="amount">756.89</span>
                                        <span class="total">574.58</span>
                                        <div class="order-depth" style="width: 32%"></div>
                                    </div>
                                    <div class="order-row sell">
                                        <span class="price">0.7567</span>
                                        <span class="amount">3,456.12</span>
                                        <span class="total">2,615.67</span>
                                        <div class="order-depth" style="width: 89%"></div>
                                    </div>
                                    <div class="order-row sell">
                                        <span class="price">0.7534</span>
                                        <span class="amount">1,823.45</span>
                                        <span class="total">1,374.23</span>
                                        <div class="order-depth" style="width: 55%"></div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Current Price Spread -->
                            <div class="price-spread">
                                <div class="spread-info">
                                    <span class="current-price">0.7523</span>
                                    <span class="spread-value">Spread: 0.0001 (0.01%)</span>
                                </div>
                            </div>
                            
                            <!-- Buy Orders (Green) -->
                            <div class="orders-section buys">
                                <div class="orders-list" id="buyOrders">
                                    <div class="order-row buy">
                                        <span class="price">0.7522</span>
                                        <span class="amount">2,134.56</span>
                                        <span class="total">1,605.12</span>
                                        <div class="order-depth" style="width: 67%"></div>
                                    </div>
                                    <div class="order-row buy">
                                        <span class="price">0.7498</span>
                                        <span class="amount">987.34</span>
                                        <span class="total">740.58</span>
                                        <div class="order-depth" style="width: 34%"></div>
                                    </div>
                                    <div class="order-row buy">
                                        <span class="price">0.7456</span>
                                        <span class="amount">4,567.89</span>
                                        <span class="total">3,405.67</span>
                                        <div class="order-depth" style="width: 92%"></div>
                                    </div>
                                    <div class="order-row buy">
                                        <span class="price">0.7423</span>
                                        <span class="amount">1,678.90</span>
                                        <span class="total">1,246.23</span>
                                        <div class="order-depth" style="width: 48%"></div>
                                    </div>
                                    <div class="order-row buy">
                                        <span class="price">0.7389</span>
                                        <span class="amount">2,987.65</span>
                                        <span class="total">2,208.45</span>
                                        <div class="order-depth" style="width: 76%"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Secondary Trading Row -->
                <div class="trading-row secondary-trading">
                    <!-- Swap Interface -->
                    <div class="trading-panel swap-panel">
                        <div class="panel-header">
                            <h3>Instant Swap</h3>
                            <div class="swap-settings">
                                <button class="settings-btn" title="Swap Settings"><i class="fas fa-cog"></i></button>
                            </div>
                        </div>
                        
                        <div class="swap-interface">
                                <div class="swap-container">
                                    <!-- From Token Section -->
                                    <div class="token-input-section">
                                        <div class="section-header">
                                            <span class="section-label">From</span>
                                            <span class="balance-label">Balance: <span id="from-balance">2,500 LTD</span></span>
                                        </div>
                                        <div class="token-input-row">
                                            <button class="token-selector" onclick="dashboard.showTokenSelector('from')">
                                                <img loading="lazy" src="/assets/images/favicon-B3hxl31q.png" alt="LTD" class="token-logo">
                                                <div class="token-info">
                                                    <span class="token-symbol">LTD</span>
                                                    <span class="token-name">La Tanda</span>
                                                </div>
                                                <i class="fas fa-chevron-down"></i>
                                            </button>
                                            <div class="amount-input-wrapper">
                                                <input type="number" 
                                                       class="amount-input" 
                                                       id="from-amount" 
                                                       placeholder="0.0"
                                                       oninput="tradingInterface.calculateSwap()">
                                                <button class="max-btn" onclick="tradingInterface.setMaxAmount('from')">MAX</button>
                                            </div>
                                        </div>
                                        <div class="usd-value" id="from-usd">~$0.00</div>
                                    </div>

                                    <!-- Swap Direction Button -->
                                    <div class="swap-direction">
                                        <button class="swap-arrow-btn" onclick="tradingInterface.reverseSwap()" title="Reverse swap direction">
                                            <i class="fas fa-exchange-alt"></i>
                                        </button>
                                    </div>

                                    <!-- To Token Section -->
                                    <div class="token-input-section">
                                        <div class="section-header">
                                            <span class="section-label">To</span>
                                            <span class="balance-label">Balance: <span id="to-balance">1,247.89 USDC</span></span>
                                        </div>
                                        <div class="token-input-row">
                                            <button class="token-selector" onclick="dashboard.showTokenSelector('to')">
                                                <div class="crypto-icon usdc">$</div>
                                                <div class="token-info">
                                                    <span class="token-symbol">USDC</span>
                                                    <span class="token-name">USD Coin</span>
                                                </div>
                                                <i class="fas fa-chevron-down"></i>
                                            </button>
                                            <div class="amount-input-wrapper">
                                                <input type="number" 
                                                       class="amount-input" 
                                                       id="to-amount" 
                                                       placeholder="0.0"
                                                       readonly>
                                            </div>
                                        </div>
                                        <div class="usd-value" id="to-usd">~$0.00</div>
                                    </div>

                                    <!-- Swap Details -->
                                    <div class="swap-details" id="swap-details" style="display: none;">
                                        <div class="detail-row">
                                            <span class="detail-label">Rate</span>
                                            <span class="detail-value" id="swap-rate">1 LTD = 0.7523 USDC</span>
                                        </div>
                                        <div class="detail-row">
                                            <span class="detail-label">Price Impact</span>
                                            <span class="detail-value impact-low" id="price-impact">&lt; 0.01%</span>
                                        </div>
                                        <div class="detail-row">
                                            <span class="detail-label">Slippage</span>
                                            <span class="detail-value" id="slippage">0.5%</span>
                                        </div>
                                        <div class="detail-row">
                                            <span class="detail-label">Network Fee</span>
                                            <span class="detail-value" id="network-fee">~$2.34</span>
                                        </div>
                                    </div>

                                    <!-- Swap Button -->
                                    <button class="swap-btn" id="swap-btn" onclick="dashboard.executeSwap()" disabled>
                                        <span class="btn-text">Enter amount</span>
                                        <div class="btn-loading" style="display: none;">
                                            <div class="spinner"></div>
                                            <span>Swapping...</span>
                                        </div>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Order Placement Panel -->
                    <div class="trading-panel order-panel">
                        <div class="panel-header">
                            <div class="order-tabs">
                                <button class="order-tab active" data-type="limit">Limit</button>
                                <button class="order-tab" data-type="market">Market</button>
                                <button class="order-tab" data-type="stop">Stop</button>
                            </div>
                        </div>
                        
                        <div class="order-content">
                            <!-- Buy/Sell Toggle -->
                            <div class="order-side-toggle">
                                <button class="side-btn buy-btn active" data-side="buy">Buy LTD</button>
                                <button class="side-btn sell-btn" data-side="sell">Sell LTD</button>
                            </div>
                            
                            <!-- Order Form -->
                            <div class="order-form">
                                <div class="input-group">
                                    <label>Price</label>
                                    <div class="input-wrapper">
                                        <input type="number" id="orderPrice" placeholder="0.0000" step="0.0001">
                                        <span class="input-suffix">USDC</span>
                                    </div>
                                    <div class="price-suggestions">
                                        <button class="price-suggestion" onclick="dashboard.setOrderPrice('best')">Best</button>
                                        <button class="price-suggestion" onclick="dashboard.setOrderPrice('last')">Last</button>
                                    </div>
                                </div>
                                
                                <div class="input-group">
                                    <label>Amount</label>
                                    <div class="input-wrapper">
                                        <input type="number" id="orderAmount" placeholder="0.0000" step="0.0001">
                                        <span class="input-suffix">LTD</span>
                                    </div>
                                    <div class="amount-presets">
                                        <button class="amount-preset" onclick="dashboard.setOrderAmount(25)">25%</button>
                                        <button class="amount-preset" onclick="dashboard.setOrderAmount(50)">50%</button>
                                        <button class="amount-preset" onclick="dashboard.setOrderAmount(75)">75%</button>
                                        <button class="amount-preset" onclick="dashboard.setOrderAmount(100)">Max</button>
                                    </div>
                                </div>
                                
                                <div class="order-summary">
                                    <div class="summary-row">
                                        <span>Total</span>
                                        <span id="orderTotal">0.0000 USDC</span>
                                    </div>
                                    <div class="summary-row">
                                        <span>Fee (0.1%)</span>
                                        <span id="orderFee">0.0000 USDC</span>
                                    </div>
                                    <div class="summary-row available">
                                        <span>Available</span>
                                        <span id="availableBalance">2,500 LTD</span>
                                    </div>
                                </div>
                                
                                <button class="place-order-btn buy" id="placeOrderBtn" disabled>
                                    <span class="btn-content">
                                        <i class="fas fa-plus"></i>
                                        Buy LTD
                                    </span>
                                    <div class="btn-loading" style="display: none;">
                                        <div class="spinner"></div>
                                        <span>Placing order...</span>
                                    </div>
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Portfolio Summary -->
                    <div class="trading-panel portfolio-panel">
                        <div class="panel-header">
                            <h3>Portfolio</h3>
                            <div class="portfolio-value">$3,247.89</div>
                        </div>
                        
                        <div class="portfolio-content">
                            <div class="balance-list">
                                <div class="balance-item">
                                    <div class="balance-info">
                                        <img loading="lazy" src="/assets/images/favicon-B3hxl31q.png" alt="LTD" class="balance-icon">
                                        <div class="balance-details">
                                            <span class="balance-symbol">LTD</span>
                                            <span class="balance-name">La Tanda</span>
                                        </div>
                                    </div>
                                    <div class="balance-amounts">
                                        <div class="balance-amount">2,500.00</div>
                                        <div class="balance-usd">â‰ˆ $1,875.75</div>
                                    </div>
                                </div>
                                
                                <div class="balance-item">
                                    <div class="balance-info">
                                        <div class="crypto-icon usdc">$</div>
                                        <div class="balance-details">
                                            <span class="balance-symbol">USDC</span>
                                            <span class="balance-name">USD Coin</span>
                                        </div>
                                    </div>
                                    <div class="balance-amounts">
                                        <div class="balance-amount">1,247.89</div>
                                        <div class="balance-usd">â‰ˆ $1,247.89</div>
                                    </div>
                                </div>
                                
                                <div class="balance-item">
                                    <div class="balance-info">
                                        <div class="crypto-icon eth">Îž</div>
                                        <div class="balance-details">
                                            <span class="balance-symbol">ETH</span>
                                            <span class="balance-name">Ethereum</span>
                                        </div>
                                    </div>
                                    <div class="balance-amounts">
                                        <div class="balance-amount">0.5847</div>
                                        <div class="balance-usd">â‰ˆ $1,549.46</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="portfolio-actions">
                                <button class="portfolio-btn deposit">Deposit</button>
                                <button class="portfolio-btn withdraw">Withdraw</button>
                                <button class="portfolio-btn transfer">Transfer</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Market Data & Recent Trades -->
                <div class="trading-row market-data">
                    <!-- Recent Trades -->
                    <div class="trading-panel trades-panel">
                        <div class="panel-header">
                            <h3>Recent Trades</h3>
                            <div class="trades-filter">
                                <button class="filter-btn active">All</button>
                                <button class="filter-btn">My Trades</button>
                            </div>
                        </div>
                        
                        <div class="trades-content">
                            <div class="trades-header">
                                <span class="time-header">Time</span>
                                <span class="price-header">Price (USDC)</span>
                                <span class="amount-header">Amount (LTD)</span>
                                <span class="side-header">Side</span>
                            </div>
                            <div class="trades-list" id="recentTrades">
                                <div class="trade-row buy">
                                    <span class="trade-time">14:23:45</span>
                                    <span class="trade-price">0.7523</span>
                                    <span class="trade-amount">245.67</span>
                                    <span class="trade-side buy">Buy</span>
                                </div>
                                <div class="trade-row sell">
                                    <span class="trade-time">14:23:42</span>
                                    <span class="trade-price">0.7521</span>
                                    <span class="trade-amount">158.34</span>
                                    <span class="trade-side sell">Sell</span>
                                </div>
                                <div class="trade-row buy">
                                    <span class="trade-time">14:23:38</span>
                                    <span class="trade-price">0.7524</span>
                                    <span class="trade-amount">892.15</span>
                                    <span class="trade-side buy">Buy</span>
                                </div>
                                <div class="trade-row sell">
                                    <span class="trade-time">14:23:35</span>
                                    <span class="trade-price">0.7520</span>
                                    <span class="trade-amount">467.89</span>
                                    <span class="trade-side sell">Sell</span>
                                </div>
                                <div class="trade-row buy">
                                    <span class="trade-time">14:23:32</span>
                                    <span class="trade-price">0.7522</span>
                                    <span class="trade-amount">123.45</span>
                                    <span class="trade-side buy">Buy</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Open Orders -->
                    <div class="trading-panel orders-panel">
                        <div class="panel-header">
                            <h3>Open Orders</h3>
                            <button class="cancel-all-btn">Cancel All</button>
                        </div>
                        
                        <div class="orders-content">
                            <div class="orders-tabs">
                                <button class="orders-tab active" data-tab="open">Open (2)</button>
                                <button class="orders-tab" data-tab="history">Order History</button>
                                <button class="orders-tab" data-tab="fills">Trade History</button>
                            </div>
                            
                            <div class="orders-table">
                                <div class="orders-header">
                                    <span class="pair-header">Pair</span>
                                    <span class="side-header">Side</span>
                                    <span class="price-header">Price</span>
                                    <span class="amount-header">Amount</span>
                                    <span class="filled-header">Filled</span>
                                    <span class="action-header">Action</span>
                                </div>
                                
                                <div class="orders-list" id="openOrders">
                                    <div class="order-row">
                                        <span class="order-pair">LTD/USDC</span>
                                        <span class="order-side buy">Buy</span>
                                        <span class="order-price">0.7456</span>
                                        <span class="order-amount">500.00</span>
                                        <span class="order-filled">0%</span>
                                        <button class="cancel-order-btn">Cancel</button>
                                    </div>
                                    
                                    <div class="order-row">
                                        <span class="order-pair">LTD/USDC</span>
                                        <span class="order-side sell">Sell</span>
                                        <span class="order-price">0.7789</span>
                                        <span class="order-amount">250.00</span>
                                        <span class="order-filled">35%</span>
                                        <button class="cancel-order-btn">Cancel</button>
                                    </div>
                                </div>
                                
                                <div class="no-orders" style="display: none;">
                                    <div class="no-orders-icon">ðŸ“‹</div>
                                    <div class="no-orders-text">No open orders</div>
                                    <div class="no-orders-subtitle">Place your first order to get started</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Market Statistics -->
                    <div class="trading-panel stats-panel">
                        <div class="panel-header">
                            <h3>Market Statistics</h3>
                            <button class="refresh-btn" title="Refresh Data"><i class="fas fa-sync-alt"></i></button>
                        </div>
                        
                        <div class="stats-content">
                            <div class="stats-grid">
                                <div class="stat-card">
                                    <div class="stat-label">24h Volume</div>
                                    <div class="stat-value">2,456,789 LTD</div>
                                    <div class="stat-usd">â‰ˆ $1,847,523</div>
                                </div>
                                
                                <div class="stat-card">
                                    <div class="stat-label">Total Supply</div>
                                    <div class="stat-value">25,000,000 LTD</div>
                                    <div class="stat-change positive">+2.1% this month</div>
                                </div>
                                
                                <div class="stat-card">
                                    <div class="stat-label">Circulating</div>
                                    <div class="stat-value">18,750,000 LTD</div>
                                    <div class="stat-percentage">75% of total</div>
                                </div>
                                
                                <div class="stat-card">
                                    <div class="stat-label">Market Cap</div>
                                    <div class="stat-value">$14,106,563</div>
                                    <div class="stat-rank">Rank #247</div>
                                </div>
                                
                                <div class="stat-card">
                                    <div class="stat-label">Fully Diluted</div>
                                    <div class="stat-value">$18,807,500</div>
                                    <div class="stat-note">FDV</div>
                                </div>
                                
                                <div class="stat-card">
                                    <div class="stat-label">TVL</div>
                                    <div class="stat-value">$847,234</div>
                                    <div class="stat-change positive">+15.2% this week</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Collapsible Extended Features -->
            <div class="extended-features">
                <!-- DeFi Features Accordion -->
                <div class="feature-module defi-accordion">
                    <button class="accordion-header" onclick="dashboard.toggleAccordion('defi-features')">
                        <div class="accordion-title">
                            <i class="fas fa-coins"></i>
                            DeFi Features
                        </div>
                        <i class="fas fa-chevron-down accordion-icon"></i>
                    </button>
                    <div class="accordion-content" id="defi-features-content">
                        <div class="defi-features-grid">
                            <button class="feature-btn" onclick="dashboard.showStaking()">
                                <i class="fas fa-coins"></i>
                                <div class="feature-info">
                                    <span class="feature-name">Staking</span>
                                    <span class="feature-apy">24.5% APY</span>
                                </div>
                            </button>
                            <button class="feature-btn" onclick="dashboard.showLiquidity()">
                                <i class="fas fa-swimming-pool"></i>
                                <div class="feature-info">
                                    <span class="feature-name">Liquidity Pools</span>
                                    <span class="feature-apy">45.2% APY</span>
                                </div>
                            </button>
                            <button class="feature-btn" onclick="dashboard.showYieldFarm()">
                                <i class="fas fa-seedling"></i>
                                <div class="feature-info">
                                    <span class="feature-name">Yield Farming</span>
                                    <span class="feature-apy">78.9% APY</span>
                                </div>
                            </button>
                            <button class="feature-btn" onclick="dashboard.showBridge()">
                                <i class="fas fa-bridge"></i>
                                <div class="feature-info">
                                    <span class="feature-name">Cross-Chain Bridge</span>
                                    <span class="feature-status">Active</span>
                                </div>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

                <!-- Enhanced Quick Actions -->
                <section class="card quick-actions-enhanced-card">
                    <div id="quick-actions-container"></div>
                </section>

                <!-- Multi-Currency Inflation Tracker -->
                <section class="card inflation-tracker-card">
                    <div id="inflation-tracker-container"></div>
                </section>

                <!-- DeFi Pools -->
                <section class="card pools-card liquidity-pools">
                    <div class="card-header">
                        <h3>Liquidity Pools</h3>
                        <button class="add-btn" onclick="dashboard.addLiquidity()">+ Add Liquidity</button>
                    </div>
                    <div class="pools-list">
                        <div class="pool-item">
                            <div class="pool-info">
                                <div class="pool-tokens">
                                    <img loading="lazy" src="/assets/images/favicon-B3hxl31q.png" alt="LTD" class="token-icon">
                                    <div class="crypto-icon usdc">$</div>
                                    <span class="pool-name">LTD/USDC</span>
                                </div>
                                <div class="pool-stats">
                                    <span class="pool-apy">45.2% APY</span>
                                    <span class="pool-tvl">$127K TVL</span>
                                </div>
                            </div>
                            <div class="pool-actions">
                                <button class="pool-btn">Stake</button>
                                <button class="pool-btn secondary">Info</button>
                            </div>
                        </div>
                        
                        <div class="pool-item">
                            <div class="pool-info">
                                <div class="pool-tokens">
                                    <img loading="lazy" src="/assets/images/favicon-B3hxl31q.png" alt="LTD" class="token-icon">
                                    <div class="crypto-icon eth">Îž</div>
                                    <span class="pool-name">LTD/ETH</span>
                                </div>
                                <div class="pool-stats">
                                    <span class="pool-apy">38.7% APY</span>
                                    <span class="pool-tvl">$89K TVL</span>
                                </div>
                            </div>
                            <div class="pool-actions">
                                <button class="pool-btn">Stake</button>
                                <button class="pool-btn secondary">Info</button>
                            </div>
                        </div>
                        
                        <div class="pool-item">
                            <div class="pool-info">
                                <div class="pool-tokens">
                                    <img loading="lazy" src="/assets/images/favicon-B3hxl31q.png" alt="LTD" class="token-icon">
                                    <span class="pool-name">LTD Single Stake</span>
                                </div>
                                <div class="pool-stats">
                                    <span class="pool-apy">24.5% APY</span>
                                    <span class="pool-tvl">$234K TVL</span>
                                </div>
                            </div>
                            <div class="pool-actions">
                                <button class="pool-btn">Stake</button>
                                <button class="pool-btn secondary">Info</button>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Recent Activity -->
                <section class="card activity-card activity-feed">
                    <div class="card-header">
                        <h3>Recent Activity</h3>
                        <button class="view-all-btn">View All</button>
                    </div>
                    <div class="activity-list">
                        <div class="activity-item">
                            <div class="activity-icon success">
                                <svg width="16" height="16" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                                </svg>
                            </div>
                            <div class="activity-content">
                                <p class="activity-title">Staking Reward Claimed</p>
                                <p class="activity-subtitle">+12.5 LTD earned</p>
                            </div>
                            <div class="activity-time">2 min ago</div>
                        </div>
                        
                        <div class="activity-item">
                            <div class="activity-icon buy">
                                <svg width="16" height="16" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M7 14l5-5 5 5H7z"/>
                                </svg>
                            </div>
                            <div class="activity-content">
                                <p class="activity-title">LTD Purchase</p>
                                <p class="activity-subtitle">Bought 100 LTD at $0.73</p>
                            </div>
                            <div class="activity-time">1 hour ago</div>
                        </div>
                        
                        <div class="activity-item">
                            <div class="activity-icon nft">
                                <svg width="16" height="16" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                </svg>
                            </div>
                            <div class="activity-content">
                                <p class="activity-title">NFT Badge Earned</p>
                                <p class="activity-subtitle">Coordinator Level 2 achieved</p>
                            </div>
                            <div class="activity-time">3 hours ago</div>
                        </div>
                        
                        <div class="activity-item">
                            <div class="activity-icon governance">
                                <svg width="16" height="16" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-8 12l-5-5 1.41-1.41L11 12.17l7.59-7.59L20 6l-9 9z"/>
                                </svg>
                            </div>
                            <div class="activity-content">
                                <p class="activity-title">DAO Vote Cast</p>
                                <p class="activity-subtitle">Voted on Proposal #15</p>
                            </div>
                            <div class="activity-time">1 day ago</div>
                        </div>
                    </div>
                </section>

                <!-- DAO Governance -->
                <section class="card governance-card">
                    <div class="card-header">
                        <h3>DAO Governance</h3>
                        <span class="voting-power">Voting Power: 2,500 LTD</span>
                    </div>
                    <div class="proposals-list">
                        <div class="proposal-item active">
                            <div class="proposal-header">
                                <h4>Increase Staking Rewards to 30% APY</h4>
                                <span class="proposal-status active">Active</span>
                            </div>
                            <div class="proposal-stats">
                                <div class="vote-stats">
                                    <div class="vote-bar">
                                        <div class="vote-yes" style="width: 72%"></div>
                                        <div class="vote-no" style="width: 28%"></div>
                                    </div>
                                    <div class="vote-numbers">
                                        <span class="yes-votes">72% Yes (156K LTD)</span>
                                        <span class="no-votes">28% No (60K LTD)</span>
                                    </div>
                                </div>
                                <div class="proposal-time">
                                    <span>Ends in 3 days</span>
                                </div>
                            </div>
                            <div class="proposal-actions">
                                <button class="vote-btn yes" onclick="dashboard.vote('yes', 15)">Vote Yes</button>
                                <button class="vote-btn no" onclick="dashboard.vote('no', 15)">Vote No</button>
                            </div>
                        </div>
                        
                        <div class="proposal-item">
                            <div class="proposal-header">
                                <h4>Launch NFT Marketplace for Coordinator Badges</h4>
                                <span class="proposal-status pending">Pending</span>
                            </div>
                            <div class="proposal-stats">
                                <div class="vote-stats">
                                    <div class="vote-bar">
                                        <div class="vote-yes" style="width: 0%"></div>
                                        <div class="vote-no" style="width: 0%"></div>
                                    </div>
                                    <div class="vote-numbers">
                                        <span>Voting starts in 2 days</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Tandas Tradicionales -->
                <section class="card tandas-card">
                    <div class="card-header">
                        <h3><i class="fas fa-landmark"></i> Tandas Tradicionales</h3>
                        <div class="header-actions">
                            <button class="create-group-btn" onclick="tandasManager.showCreateGroup()">
                                <i class="fas fa-plus"></i>
                                Crear Grupo
                            </button>
                            <button class="filter-btn" onclick="tandasManager.toggleFilters()">
                                <i class="fas fa-filter"></i>
                                Filtros
                            </button>
                        </div>
                    </div>

                    <!-- Barra de bÃºsqueda y filtros -->
                    <div class="tandas-search-section">
                        <div class="search-container">
                            <div class="search-input-wrapper">
                                <i class="fas fa-search search-icon"></i>
                                <input type="text" id="tandas-search" placeholder="Buscar grupos, coordinadores por ID, nombre..." class="search-input">
                                <button class="clear-search" onclick="tandasManager.clearSearch()">
                                    <i class="fas fa-times"></i>
                                </button>
                            </div>
                            
                            <div class="advanced-search-toggle">
                                <button onclick="tandasManager.toggleAdvancedSearch()" class="advanced-btn">
                                    BÃºsqueda Avanzada
                                    <i class="fas fa-chevron-down"></i>
                                </button>
                            </div>
                        </div>

                        <!-- Filtros avanzados (inicialmente ocultos) -->
                        <div class="advanced-filters" id="advanced-filters" style="display: none;">
                            <div class="filter-grid">
                                <div class="filter-group">
                                    <label>Tipo de Grupo</label>
                                    <select id="group-type-filter" onchange="tandasManager.applyFilters()">
                                        <option value="">Todos los tipos</option>
                                        <option value="family"><i class="fas fa-home"></i> Familiar</option>
                                        <option value="business"><i class="fas fa-briefcase"></i> Empresarial</option>
                                        <option value="community"><i class="fas fa-building"></i> Comunitario</option>
                                        <option value="student"><i class="fas fa-graduation-cap"></i> Estudiantes</option>
                                        <option value="professional"><i class="fas fa-user-tie"></i> Profesionales</option>
                                        <option value="women"><i class="fas fa-female"></i> Solo Mujeres</option>
                                        <option value="men"><i class="fas fa-male"></i> Solo Hombres</option>
                                    </select>
                                </div>

                                <div class="filter-group">
                                    <label>ContribuciÃ³n Mensual</label>
                                    <select id="contribution-filter" onchange="tandasManager.applyFilters()">
                                        <option value="">Cualquier cantidad</option>
                                        <option value="0-500">L. 0 - 500</option>
                                        <option value="500-1000">L. 500 - 1,000</option>
                                        <option value="1000-2500">L. 1,000 - 2,500</option>
                                        <option value="2500-5000">L. 2,500 - 5,000</option>
                                        <option value="5000+">L. 5,000+</option>
                                    </select>
                                </div>

                                <div class="filter-group">
                                    <label>UbicaciÃ³n</label>
                                    <select id="location-filter" onchange="tandasManager.applyFilters()">
                                        <option value="">Cualquier ubicaciÃ³n</option>
                                        <option value="tegucigalpa">Tegucigalpa</option>
                                        <option value="san-pedro-sula">San Pedro Sula</option>
                                        <option value="la-ceiba">La Ceiba</option>
                                        <option value="choloma">Choloma</option>
                                        <option value="danli">DanlÃ­</option>
                                        <option value="siguatepeque">Siguatepeque</option>
                                        <option value="comayagua">Comayagua</option>
                                        <option value="online"><i class="fas fa-laptop"></i> Virtual</option>
                                    </select>
                                </div>

                                <div class="filter-group">
                                    <label>Estado del Grupo</label>
                                    <select id="status-filter" onchange="tandasManager.applyFilters()">
                                        <option value="">Todos los estados</option>
                                        <option value="recruiting"><i class="fas fa-circle text-green-500"></i> Reclutando</option>
                                        <option value="active"><i class="fas fa-circle text-blue-500"></i> Activo</option>
                                        <option value="full"><i class="fas fa-circle text-yellow-500"></i> Completo</option>
                                        <option value="paused"><i class="fas fa-circle text-orange-500"></i> Pausado</option>
                                    </select>
                                </div>

                                <div class="filter-group">
                                    <label>Experiencia del Coordinador</label>
                                    <select id="coordinator-exp-filter" onchange="tandasManager.applyFilters()">
                                        <option value="">Cualquier experiencia</option>
                                        <option value="new"><i class="fas fa-seedling"></i> Nuevo (&lt; 6 meses)</option>
                                        <option value="experienced"><i class="fas fa-star"></i> Experimentado (6m - 2 aÃ±os)</option>
                                        <option value="veteran"><i class="fas fa-trophy"></i> Veterano (2+ aÃ±os)</option>
                                        <option value="master"><i class="fas fa-crown"></i> Maestro (5+ aÃ±os)</option>
                                    </select>
                                </div>

                                <div class="filter-group">
                                    <label>Frecuencia de Pago</label>
                                    <select id="frequency-filter" onchange="tandasManager.applyFilters()">
                                        <option value="">Cualquier frecuencia</option>
                                        <option value="weekly">ðŸ“… Semanal</option>
                                        <option value="biweekly">ðŸ“… Quincenal</option>
                                        <option value="monthly">ðŸ“… Mensual</option>
                                        <option value="custom"><i class="fas fa-cog"></i> Personalizada</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="filter-actions">
                                <button class="clear-filters-btn" onclick="tandasManager.clearAllFilters()">
                                    Limpiar Filtros
                                </button>
                                <button class="save-search-btn" onclick="tandasManager.saveCurrentSearch()">
                                    Guardar BÃºsqueda
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- EstadÃ­sticas rÃ¡pidas -->
                    <div class="tandas-quick-stats">
                        <div class="quick-stat">
                            <div class="stat-number" id="total-groups">127</div>
                            <div class="stat-label">Grupos Disponibles</div>
                        </div>
                        <div class="quick-stat">
                            <div class="stat-number" id="my-groups">3</div>
                            <div class="stat-label">Mis Grupos</div>
                        </div>
                        <div class="quick-stat">
                            <div class="stat-number" id="coordinating">1</div>
                            <div class="stat-label">Coordinando</div>
                        </div>
                        <div class="quick-stat">
                            <div class="stat-number" id="total-savings">L. 12,500</div>
                            <div class="stat-label">Total Ahorrado</div>
                        </div>
                    </div>

                    <!-- PestaÃ±as de navegaciÃ³n -->
                    <div class="tandas-tabs">
                        <button class="tab-btn active" data-tab="discover" onclick="tandasManager.switchTab('discover')">
                            <i class="fas fa-search"></i> Descubrir
                        </button>
                        <button class="tab-btn" data-tab="my-groups" onclick="tandasManager.switchTab('my-groups')">
                            <i class="fas fa-users"></i> Mis Grupos
                        </button>
                        <button class="tab-btn" data-tab="coordinating" onclick="tandasManager.switchTab('coordinating')">
                            <i class="fas fa-crown"></i> Coordinando
                        </button>
                        <button class="tab-btn" data-tab="requests" onclick="tandasManager.switchTab('requests')">
                            <i class="fas fa-envelope"></i> Solicitudes
                            <span class="notification-badge" id="requests-badge">2</span>
                        </button>
                    </div>

                    <!-- Contenido de las pestaÃ±as -->
                    <div class="tab-content">
                        <!-- PestaÃ±a Descubrir -->
                        <div class="tab-panel active" id="discover-panel">
                            <div class="groups-grid" id="groups-grid">
                                <!-- Los grupos se cargan dinÃ¡micamente aquÃ­ -->
                            </div>
                            
                            <!-- PaginaciÃ³n -->
                            <div class="pagination" id="groups-pagination">
                                <button class="page-btn" onclick="tandasManager.previousPage()">Anterior</button>
                                <span class="page-info">PÃ¡gina 1 de 13</span>
                                <button class="page-btn" onclick="tandasManager.nextPage()">Siguiente</button>
                            </div>
                        </div>

                        <!-- PestaÃ±a Mis Grupos -->
                        <div class="tab-panel" id="my-groups-panel">
                            <div class="my-groups-list" id="my-groups-list">
                                <!-- Mis grupos se cargan aquÃ­ -->
                            </div>
                        </div>

                        <!-- PestaÃ±a Coordinando -->
                        <div class="tab-panel" id="coordinating-panel">
                            <div class="coordinating-groups" id="coordinating-groups">
                                <!-- Grupos que coordino se cargan aquÃ­ -->
                            </div>
                        </div>

                        <!-- PestaÃ±a Solicitudes -->
                        <div class="tab-panel" id="requests-panel">
                            <div class="requests-section">
                                <div class="requests-tabs">
                                    <button class="requests-tab-btn active" data-tab="pending" onclick="tandasManager.switchRequestsTab('pending')">
                                        Pendientes (2)
                                    </button>
                                    <button class="requests-tab-btn" data-tab="sent" onclick="tandasManager.switchRequestsTab('sent')">
                                        Enviadas (1)
                                    </button>
                                    <button class="requests-tab-btn" data-tab="history" onclick="tandasManager.switchRequestsTab('history')">
                                        Historial
                                    </button>
                                </div>
                                
                                <div class="requests-content">
                                    <div class="requests-list" id="requests-list">
                                        <!-- Las solicitudes se cargan aquÃ­ -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- NFT Collection -->
                <section class="card nft-card">
                    <div class="card-header">
                        <h3>My NFT Collection</h3>
                        <button class="marketplace-btn btn-with-ripple" onclick="dashboard.showMarketplace(this)">Marketplace</button>
                    </div>
                    <div class="nft-grid">
                        <div class="nft-item legendary">
                            <div class="nft-image">
                                <img loading="lazy" src="/assets/images/favicon-B3hxl31q.png" alt="NFT" class="nft-preview">
                                <div class="nft-rarity">Legendary</div>
                            </div>
                            <div class="nft-info">
                                <h4>Golden Coordinator</h4>
                                <p>Level 5 Achievement</p>
                                <span class="nft-value">Worth: 500 LTD</span>
                            </div>
                        </div>
                        
                        <div class="nft-item epic">
                            <div class="nft-image">
                                <img loading="lazy" src="/assets/images/favicon-B3hxl31q.png" alt="NFT" class="nft-preview">
                                <div class="nft-rarity">Epic</div>
                            </div>
                            <div class="nft-info">
                                <h4>Top Performer</h4>
                                <p>Monthly Leader</p>
                                <span class="nft-value">Worth: 200 LTD</span>
                            </div>
                        </div>
                        
                        <div class="nft-item rare">
                            <div class="nft-image">
                                <img loading="lazy" src="/assets/images/favicon-B3hxl31q.png" alt="NFT" class="nft-preview">
                                <div class="nft-rarity">Rare</div>
                            </div>
                            <div class="nft-info">
                                <h4>Group Founder</h4>
                                <p>First 100 Users</p>
                                <span class="nft-value">Worth: 50 LTD</span>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </main>
    </div>

    <!-- Modals -->
    <div id="tradingModal" class="modal">
        <div class="modal-content trading-modal">
            <div class="modal-header">
                <h3 id="tradingModalTitle">Trade LTD</h3>
                <button class="close-btn" onclick="dashboard.closeModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="trading-form">
                    <div class="input-group">
                        <label>Amount</label>
                        <div class="input-wrapper">
                            <input type="number" id="tradeAmount" placeholder="0.0">
                            <span class="input-suffix">LTD</span>
                        </div>
                    </div>
                    <div class="input-group">
                        <label>Price</label>
                        <div class="input-wrapper">
                            <input type="number" id="tradePrice" placeholder="0.75">
                            <span class="input-suffix">USD</span>
                        </div>
                    </div>
                    <div class="trade-summary">
                        <div class="summary-row">
                            <span>Total</span>
                            <span id="tradeTotal">$0.00</span>
                        </div>
                        <div class="summary-row">
                            <span>Fee</span>
                            <span id="tradeFee">$0.00</span>
                        </div>
                    </div>
                    <button class="trade-confirm-btn" id="tradeConfirmBtn">
                        Confirm Trade
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- API Dependencies - Fase 2: Backend Integration -->
    <script>
        // Ensure APIHandlersComplete is defined before other scripts load
        window.APIHandlersComplete = window.APIHandlersComplete || {
            mockData: true,
            generateTradingData: () => ({ price: 0.7523, volume: 1000000 }),
            simulateTransaction: (data) => Promise.resolve({ success: true, txId: 'mock-tx-' + Date.now() })
        };

        // Define global trading interface functions (required by HTML onclick handlers)
        window.tradingInterface = {
            changeTimeframe: function(timeframe) {
                console.log(`â±ï¸ Timeframe changed to: ${timeframe}`);
                // Update chart with new timeframe
                const chart = document.getElementById('nextGenChart');
                if (chart && chart.updateTimeframe) {
                    chart.updateTimeframe(timeframe);
                }
            },
            toggleFullscreen: function() {
                console.log('ðŸ–¼ï¸ Toggle fullscreen mode');
                const chartContainer = document.querySelector('.zona-2');
                if (chartContainer) {
                    if (document.fullscreenElement) {
                        document.exitFullscreen();
                    } else {
                        chartContainer.requestFullscreen();
                    }
                }
            },
            toggleIndicators: function() {
                console.log('ðŸ“Š Toggle technical indicators');
                const chart = document.getElementById('nextGenChart');
                if (chart && chart.toggleIndicators) {
                    chart.toggleIndicators();
                }
            },
            showMarketAnalysis: function() {
                console.log('ðŸ§  Show AI market analysis');
                const chart = document.getElementById('nextGenChart');
                if (chart && chart.showAIAnalysis) {
                    chart.showAIAnalysis();
                }
            }
        };

        // Define global dashboard functions (required by HTML onclick handlers)
        window.dashboard = {
            goHome: function() {
                console.log('ðŸ  Navigate to home dashboard');
                window.location.href = '/home-dashboard.html';
            },
            showNotification: function(message, type = 'info') {
                console.log(`ðŸ“¢ ${type.toUpperCase()}: ${message}`);
                // Could integrate with a notification system here
            }
        };
    </script>

    <!-- Dashboard Scripts -->
    
    <!-- Professional Token Selector Modal -->
    <div id="tokenSelectorModal" class="modal token-modal" style="display: none;">
        <div class="modal-content token-selector-content">
            <div class="modal-header token-header">
                <h3>Select a token</h3>
                <button class="close-btn" onclick="dashboard.closeTokenSelector()">&times;</button>
            </div>
            <div class="modal-body token-body">
                <!-- Search Input -->
                <div class="token-search">
                    <div class="search-wrapper">
                        <i class="fas fa-search search-icon"></i>
                        <input type="text" 
                               id="tokenSearch" 
                               placeholder="Search name or paste address"
                               oninput="dashboard.filterTokens(this.value)">
                    </div>
                </div>
                
                <!-- Popular Tokens -->
                <div class="popular-tokens">
                    <h4>Popular tokens</h4>
                    <div class="token-chips">
                        <button class="token-chip" onclick="dashboard.selectToken('ETH')">
                            <div class="crypto-icon eth">Îž</div>
                            <span>ETH</span>
                        </button>
                        <button class="token-chip" onclick="dashboard.selectToken('USDC')">
                            <div class="crypto-icon usdc">$</div>
                            <span>USDC</span>
                        </button>
                        <button class="token-chip" onclick="dashboard.selectToken('USDT')">
                            <div class="crypto-icon usdt">â‚®</div>
                            <span>USDT</span>
                        </button>
                        <button class="token-chip" onclick="dashboard.selectToken('BTC')">
                            <div class="crypto-icon btc">â‚¿</div>
                            <span>WBTC</span>
                        </button>
                    </div>
                </div>
                
                <!-- Token List -->
                <div class="token-list" id="tokenList">
                    <div class="token-item" onclick="dashboard.selectToken('LTD')">
                        <img loading="lazy" src="/assets/images/favicon-B3hxl31q.png" alt="LTD" class="token-logo">
                        <div class="token-details">
                            <div class="token-primary">
                                <span class="token-symbol">LTD</span>
                                <span class="token-name">La Tanda</span>
                            </div>
                            <div class="token-balance">2,500 LTD</div>
                        </div>
                        <div class="token-price">$0.7523</div>
                    </div>
                    
                    <div class="token-item" onclick="dashboard.selectToken('USDC')">
                        <div class="crypto-icon usdc">$</div>
                        <div class="token-details">
                            <div class="token-primary">
                                <span class="token-symbol">USDC</span>
                                <span class="token-name">USD Coin</span>
                            </div>
                            <div class="token-balance">1,247.89 USDC</div>
                        </div>
                        <div class="token-price">$1.00</div>
                    </div>
                    
                    <div class="token-item" onclick="dashboard.selectToken('ETH')">
                        <div class="crypto-icon eth">Îž</div>
                        <div class="token-details">
                            <div class="token-primary">
                                <span class="token-symbol">ETH</span>
                                <span class="token-name">Ethereum</span>
                            </div>
                            <div class="token-balance">0.5847 ETH</div>
                        </div>
                        <div class="token-price">$2,650.00</div>
                    </div>
                    
                    <div class="token-item" onclick="dashboard.selectToken('USDT')">
                        <div class="crypto-icon usdt">â‚®</div>
                        <div class="token-details">
                            <div class="token-primary">
                                <span class="token-symbol">USDT</span>
                                <span class="token-name">Tether USD</span>
                            </div>
                            <div class="token-balance">892.34 USDT</div>
                        </div>
                        <div class="token-price">$1.00</div>
                    </div>
                    
                    <div class="token-item" onclick="dashboard.selectToken('BTC')">
                        <div class="crypto-icon btc">â‚¿</div>
                        <div class="token-details">
                            <div class="token-primary">
                                <span class="token-symbol">WBTC</span>
                                <span class="token-name">Wrapped Bitcoin</span>
                            </div>
                            <div class="token-balance">0.0234 WBTC</div>
                        </div>
                        <div class="token-price">$43,750</div>
                    </div>
                </div>
                
                <!-- Import Custom Token -->
                <div class="import-token">
                    <button class="import-btn" onclick="dashboard.showImportToken()">
                        <i class="fas fa-plus"></i>
                        Import custom token
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Shared Components JavaScript -->
    
    <!-- Translation System -->
    
    <script>
        // ================================
        // ðŸš€ LA TANDA WEB3 ECOSYSTEM INTEGRATION
        // ================================
        
        // Import all the completed systems
        class LaTandaWeb3EcosystemIntegrated {
            constructor() {
                this.ecosystemData = {
                    userBalance: 24567.89,
                    stakingRewards: 1847.23,
                    activeTandas: 12,
                    ltdPrice: 0.847,
                    tvl: 847200,
                    tradingVolume: 156800,
                    liquidityPools: 8,
                    lendingRewards: 234.5,
                    activeProposals: 4,
                    nftMemberships: 3,
                    activeCommunity: 1247,
                    totalReferrals: 892
                };
                
                this.walletData = {
                    isConnected: false,
                    address: null,
                    balance: 0,
                    lockedFunds: 0,
                    ltdTokens: 0,
                    networkId: 'latanda-chain',
                    gasPrice: 0.001,
                    transactions: []
                };
                
                this.tokenomicsData = {
                    totalSupply: 100000000,
                    circulatingSupply: 25000000,
                    burnRate: 0.001,
                    stakingAPY: 145,
                    governanceThreshold: 1000,
                    dailyMintLimit: 10000
                };
                
                this.userStats = {
                    totalEarned: 0,
                    stakingBalance: 0,
                    governanceVotes: 0,
                    achievementsCompleted: 0,
                    checkInStreak: 0,
                    lastCheckIn: null
                };
                
                this.init();
            }

            init() {
                this.loadAllData();
                this.updateAllDisplays();
                this.startRealTimeUpdates();
                this.setupEventListeners();
                console.log('ðŸš€ La Tanda Web3 Ecosystem fully integrated');
            }

            // Load all data from localStorage and marketplace
            loadAllData() {
                // Load marketplace data
                const marketplaceProducts = JSON.parse(localStorage.getItem('latanda_user_products') || '[]');
                const marketplaceServices = JSON.parse(localStorage.getItem('latanda_user_services') || '[]');
                const marketplaceCourses = JSON.parse(localStorage.getItem('latanda_user_courses') || '[]');
                
                const totalListings = marketplaceProducts.length + marketplaceServices.length + marketplaceCourses.length;
                
                // Update ecosystem based on activity
                if (totalListings > 0) {
                    this.ecosystemData.userBalance += (totalListings * 25);
                    this.ecosystemData.activeTandas = Math.max(12, Math.floor(12 + (totalListings * 0.3)));
                    this.ecosystemData.activeCommunity += Math.floor(totalListings * 15);
                    this.ecosystemData.totalReferrals += Math.floor(totalListings * 5);
                }

                // Load wallet data
                const savedWallet = JSON.parse(localStorage.getItem('latanda_wallet') || '{}');
                this.walletData = { ...this.walletData, ...savedWallet };
                this.walletData.balance = this.ecosystemData.userBalance;
                this.walletData.ltdTokens = this.walletData.balance;

                // Load tokenomics data
                const savedTokenomics = JSON.parse(localStorage.getItem('latanda_tokenomics') || '{}');
                this.userStats = { ...this.userStats, ...savedTokenomics };
                
                console.log('ðŸ”„ All ecosystem data loaded and synchronized');
            }

            // Update all dashboard displays
            updateAllDisplays() {
                // Update price and metrics in the chart stats
                this.updateElement('.stat-value', `$${this.ecosystemData.ltdPrice.toFixed(4)}`);
                this.updateChartStat('24h Volume', `$${(this.ecosystemData.tradingVolume / 1000).toFixed(1)}K`);
                this.updateChartStat('Market Cap', `$${(this.ecosystemData.ltdPrice * this.tokenomicsData.circulatingSupply / 1000000).toFixed(1)}M`);
                
                // Update wallet displays if wallet panel exists
                this.updateWalletDisplay();
                
                // Update tokenomics displays
                this.updateTokenomicsDisplay();
                
                // Update ecosystem metrics
                this.updateEcosystemMetrics();
            }

            // Update chart statistics
            updateChartStat(label, value) {
                const statItems = document.querySelectorAll('.stat-item');
                statItems.forEach(item => {
                    const labelEl = item.querySelector('.stat-label');
                    const valueEl = item.querySelector('.stat-value');
                    if (labelEl && labelEl.textContent.includes(label) && valueEl) {
                        valueEl.textContent = value;
                        this.addUpdateAnimation(valueEl);
                    }
                });
            }

            // Update wallet display
            updateWalletDisplay() {
                // Update balance displays
                const balanceElements = document.querySelectorAll('[class*="balance"], [id*="balance"]');
                balanceElements.forEach(el => {
                    if (el.textContent.includes('LTD') || el.textContent.includes('$')) {
                        if (el.textContent.includes('LTD')) {
                            el.textContent = `${this.walletData.balance.toLocaleString()} LTD`;
                        } else {
                            el.textContent = `$${(this.walletData.balance * this.ecosystemData.ltdPrice).toLocaleString()}`;
                        }
                        this.addUpdateAnimation(el);
                    }
                });

                // Update connection status
                if (this.walletData.isConnected) {
                    this.showWalletConnected();
                } else {
                    this.showWalletDisconnected();
                }
            }

            // Update tokenomics display
            updateTokenomicsDisplay() {
                // Update staking APY
                const apyElements = document.querySelectorAll('[class*="apy"], [id*="apy"]');
                apyElements.forEach(el => {
                    el.textContent = `${this.tokenomicsData.stakingAPY}%`;
                    this.addUpdateAnimation(el);
                });

                // Update user stats
                if (this.userStats.totalEarned > 0) {
                    this.updateElement('.total-earned', `${this.userStats.totalEarned.toLocaleString()} LTD`);
                }
                if (this.userStats.checkInStreak > 0) {
                    this.updateElement('.check-in-streak', this.userStats.checkInStreak.toString());
                }
            }

            // Update ecosystem metrics
            updateEcosystemMetrics() {
                const metrics = [
                    { class: 'tvl', value: `$${(this.ecosystemData.tvl / 1000).toFixed(1)}K` },
                    { class: 'active-tandas', value: this.ecosystemData.activeTandas.toString() },
                    { class: 'community', value: this.ecosystemData.activeCommunity.toLocaleString() },
                    { class: 'liquidity-pools', value: this.ecosystemData.liquidityPools.toString() }
                ];

                metrics.forEach(({ class: className, value }) => {
                    this.updateElement(`.${className}`, value);
                });
                
                // Update professional header displays
                this.updatePriceDisplays();
            }
            
            // Update price displays in professional header
            updatePriceDisplays() {
                // Update current LTD price
                const ltdPrice = document.getElementById('currentLTDPrice');
                if (ltdPrice) {
                    ltdPrice.textContent = `$${this.ecosystemData.ltdPrice.toFixed(4)}`;
                    this.addUpdateAnimation(ltdPrice);
                }
                
                // Update price change
                const priceChange = document.getElementById('priceChange');
                if (priceChange) {
                    const change = ((this.ecosystemData.ltdPrice - 0.7500) / 0.7500 * 100).toFixed(2);
                    priceChange.textContent = `${change > 0 ? '+' : ''}${change}%`;
                    priceChange.className = `price-change ${change > 0 ? 'positive' : 'negative'}`;
                }
                
                // Update daily volume
                const dailyVolume = document.getElementById('dailyVolumeMetric');
                if (dailyVolume) {
                    dailyVolume.textContent = `$${(this.ecosystemData.tradingVolume / 1000).toFixed(1)}K`;
                }
                
                // Update network latency
                const networkLatency = document.getElementById('networkLatency');
                if (networkLatency) {
                    const latency = Math.floor(Math.random() * 5) + 10;
                    networkLatency.textContent = `${latency}ms`;
                }
            }

            // Update specific element
            updateElement(selector, value) {
                const elements = document.querySelectorAll(selector);
                elements.forEach(el => {
                    if (el) {
                        el.textContent = value;
                        this.addUpdateAnimation(el);
                    }
                });
            }

            // Add update animation
            addUpdateAnimation(element) {
                element.style.transform = 'scale(1.05)';
                element.style.color = '#00FFFF';
                element.style.transition = 'all 0.3s ease';
                
                setTimeout(() => {
                    element.style.transform = 'scale(1)';
                    element.style.color = '';
                }, 300);
            }

            // Show wallet connected state
            showWalletConnected() {
                // Update professional connect button
                const connectBtn = document.getElementById('connectWalletPro');
                if (connectBtn) {
                    connectBtn.innerHTML = `
                        <i class="fas fa-check-circle"></i>
                        <span>${this.formatAddress(this.walletData.address)}</span>
                    `;
                    connectBtn.className = 'connect-wallet-pro connected';
                }
                
                // Update status dot
                const statusDot = document.getElementById('walletStatusDot');
                if (statusDot) {
                    statusDot.className = 'status-dot connected';
                }
                
                // Update status text
                const statusText = document.getElementById('walletStatusText');
                if (statusText) {
                    statusText.textContent = 'Connected';
                }
                
                // Show user balance section
                const balanceSection = document.getElementById('userBalanceSection');
                if (balanceSection) {
                    balanceSection.style.display = 'flex';
                    
                    // Update balance amounts
                    const balanceAmount = document.getElementById('userBalanceAmount');
                    const balanceUSD = document.getElementById('userBalanceUSD');
                    
                    if (balanceAmount) {
                        balanceAmount.textContent = this.walletData.balance.toLocaleString();
                    }
                    if (balanceUSD) {
                        balanceUSD.textContent = `~$${(this.walletData.balance * this.ecosystemData.ltdPrice).toLocaleString()}`;
                    }
                }
                
                // Update price displays
                this.updatePriceDisplays();
            }

            // Show wallet disconnected state
            showWalletDisconnected() {
                // Update professional connect button
                const connectBtn = document.getElementById('connectWalletPro');
                if (connectBtn) {
                    connectBtn.innerHTML = `
                        <i class="fas fa-wallet"></i>
                        <span>Connect Wallet</span>
                    `;
                    connectBtn.className = 'connect-wallet-pro';
                }
                
                // Update status dot
                const statusDot = document.getElementById('walletStatusDot');
                if (statusDot) {
                    statusDot.className = 'status-dot';
                }
                
                // Update status text
                const statusText = document.getElementById('walletStatusText');
                if (statusText) {
                    statusText.textContent = 'Not Connected';
                }
                
                // Hide user balance section
                const balanceSection = document.getElementById('userBalanceSection');
                if (balanceSection) {
                    balanceSection.style.display = 'none';
                }
            }

            // Format wallet address
            formatAddress(address) {
                if (!address) return '';
                return `${address.substring(0, 6)}...${address.substring(address.length - 4)}`;
            }

            // Start real-time updates
            startRealTimeUpdates() {
                // Update every 5 seconds
                setInterval(() => {
                    this.simulateMarketActivity();
                    this.updateAllDisplays();
                }, 5000);

                // Major updates every 30 seconds
                setInterval(() => {
                    this.simulateMajorActivity();
                    this.updateAllDisplays();
                }, 30000);
            }

            // Simulate market activity
            simulateMarketActivity() {
                // Price fluctuations
                const priceChange = (Math.random() - 0.5) * 0.02;
                this.ecosystemData.ltdPrice += (this.ecosystemData.ltdPrice * priceChange);
                this.ecosystemData.ltdPrice = Math.max(0.1, this.ecosystemData.ltdPrice);

                // Volume fluctuations
                const volumeChange = (Math.random() - 0.5) * 0.05;
                this.ecosystemData.tradingVolume += (this.ecosystemData.tradingVolume * volumeChange);

                // Staking rewards
                if (this.userStats.stakingBalance > 0) {
                    const reward = (this.userStats.stakingBalance * (this.tokenomicsData.stakingAPY / 100)) / (365 * 24 * 12); // Per 5 seconds
                    this.userStats.totalEarned += reward;
                    this.walletData.balance += reward;
                }
            }

            // Simulate major activity
            simulateMajorActivity() {
                const events = [
                    () => {
                        this.ecosystemData.activeTandas += Math.floor(Math.random() * 2);
                        this.showNotification('ðŸŽ‰ Nueva Tanda creada en el ecosistema');
                    },
                    () => {
                        this.ecosystemData.totalReferrals += Math.floor(Math.random() * 10) + 5;
                        this.showNotification('ðŸ‘¥ Nuevos usuarios se unieron al ecosistema');
                    },
                    () => {
                        const reward = Math.random() * 50 + 10;
                        this.ecosystemData.lendingRewards += reward;
                        this.showNotification('ðŸ’° Rewards de lending distribuidos');
                    }
                ];

                if (Math.random() > 0.7) {
                    const randomEvent = events[Math.floor(Math.random() * events.length)];
                    randomEvent();
                }
            }

            // Setup event listeners
            setupEventListeners() {
                document.addEventListener('click', (e) => {
                    // Wallet connection
                    if (e.target.textContent.includes('Connect') || e.target.textContent.includes('ðŸ”—')) {
                        this.handleWalletConnect();
                    }

                    // Staking
                    if (e.target.textContent.includes('Stake') || e.target.classList.contains('stake-btn')) {
                        this.handleStaking();
                    }

                    // Check-in
                    if (e.target.textContent.includes('Check') || e.target.textContent.includes('Reclamar')) {
                        this.handleCheckIn();
                    }
                });
            }

            // Handle wallet connection
            async handleWalletConnect() {
                if (this.walletData.isConnected) {
                    // Disconnect
                    this.walletData.isConnected = false;
                    this.walletData.address = null;
                    localStorage.removeItem('latanda_wallet');
                    this.showNotification('ðŸ‘‹ Wallet desconectada');
                } else {
                    // Connect
                    this.showNotification('ðŸ”„ Conectando wallet...');
                    
                    await new Promise(resolve => setTimeout(resolve, 2000));
                    
                    this.walletData.isConnected = true;
                    this.walletData.address = this.generateWalletAddress();
                    localStorage.setItem('latanda_wallet', JSON.stringify(this.walletData));
                    
                    this.showNotification('ðŸŽ‰ Â¡Wallet conectada exitosamente!');
                }
                
                this.updateAllDisplays();
            }

            // Generate wallet address
            generateWalletAddress() {
                const chars = '0123456789abcdef';
                let address = '0x';
                for (let i = 0; i < 40; i++) {
                    address += chars[Math.floor(Math.random() * chars.length)];
                }
                return address;
            }

            // Handle staking
            handleStaking() {
                if (!this.walletData.isConnected) {
                    this.showNotification('ðŸ’¼ Conecta tu wallet primero');
                    return;
                }

                const stakeAmount = Math.min(this.walletData.balance * 0.1, 1000);
                if (stakeAmount < 10) {
                    this.showNotification('âŒ Saldo insuficiente para staking');
                    return;
                }

                this.userStats.stakingBalance += stakeAmount;
                this.walletData.balance -= stakeAmount;
                this.walletData.lockedFunds += stakeAmount;
                
                this.saveAllData();
                this.showNotification(`ðŸ”’ ${stakeAmount.toFixed(2)} LTD staked exitosamente!`, 'success');
                this.updateAllDisplays();
            }

            // Handle check-in
            handleCheckIn() {
                const lastCheckIn = new Date(this.userStats.lastCheckIn || 0);
                const now = new Date();
                const hoursSinceCheckIn = (now - lastCheckIn) / (1000 * 60 * 60);
                
                if (hoursSinceCheckIn >= 48) {
                    this.userStats.lastCheckIn = now.toISOString();
                    this.userStats.checkInStreak += 1;
                    this.userStats.totalEarned += 2;
                    this.walletData.balance += 2;
                    
                    if (this.userStats.checkInStreak % 7 === 0) {
                        const bonus = 5;
                        this.userStats.totalEarned += bonus;
                        this.walletData.balance += bonus;
                        this.showNotification(`ðŸŽ‰ Â¡Streak bonus! +${bonus} LTD adicionales`, 'success');
                    }
                    
                    this.saveAllData();
                    this.showNotification('âœ… +2 LTD reclamados! Regresa en 48 horas');
                    this.updateAllDisplays();
                } else {
                    const hoursRemaining = Math.ceil(48 - hoursSinceCheckIn);
                    this.showNotification(`â° Check-in disponible en ${hoursRemaining} horas`, 'info');
                }
            }

            // Save all data
            saveAllData() {
                localStorage.setItem('latanda_wallet', JSON.stringify(this.walletData));
                localStorage.setItem('latanda_tokenomics', JSON.stringify(this.userStats));
            }

            // Show notifications
            showNotification(message, type = 'info') {
                const notification = document.createElement('div');
                notification.className = `ecosystem-notification ${type}`;
                notification.innerHTML = `
                    <div class="notification-content">
                        <span>${message}</span>
                        <button onclick="this.parentElement.parentElement.remove()">Ã—</button>
                    </div>
                `;
                
                notification.style.cssText = `
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    background: rgba(15, 23, 42, 0.9);
                    backdrop-filter: blur(24px);
                    border: 1px solid #00FFFF;
                    border-radius: 12px;
                    padding: 16px;
                    color: #f8fafc;
                    z-index: 10000;
                    animation: slideInRight 0.3s ease;
                    min-width: 300px;
                    box-shadow: 0 8px 32px rgba(0, 255, 255, 0.2);
                `;
                
                document.body.appendChild(notification);
                
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.remove();
                    }
                }, 5000);
            }

            // Get ecosystem status
            getEcosystemStatus() {
                return {
                    totalValue: this.walletData.balance * this.ecosystemData.ltdPrice,
                    ecosystemGrowth: ((this.ecosystemData.activeCommunity - 1247) / 1247 * 100).toFixed(1) + '%',
                    marketHealth: this.ecosystemData.ltdPrice > 0.8 ? 'Excellent' : 'Good',
                    ltdPrice: this.ecosystemData.ltdPrice,
                    userBalance: this.walletData.balance,
                    activeTandas: this.ecosystemData.activeTandas,
                    tvl: this.ecosystemData.tvl,
                    ...this.ecosystemData,
                    ...this.walletData,
                    ...this.userStats
                };
            }
        }

        // Add CSS for animations
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideInRight {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            .notification-content {
                display: flex;
                align-items: center;
                justify-content: space-between;
                gap: 12px;
            }
            .notification-content button {
                background: none;
                border: none;
                color: #00FFFF;
                cursor: pointer;
                font-size: 18px;
                padding: 0;
                width: 20px;
                height: 20px;
                display: flex;
                align-items: center;
                justify-content: center;
            }
        `;
        document.head.appendChild(style);

        // Initialize the integrated ecosystem
        // Professional Trading Interface Class
        class LaTandaTrading {
            constructor(ecosystem) {
                this.ecosystem = ecosystem;
                this.chart = null;
                this.chartData = [];
                this.currentTimeframe = '1h';
                this.currentOrderType = 'limit';
                this.currentOrderSide = 'buy';
                this.currentPair = 'LTD/USDC';
                
                // Trading data
                this.orderBook = { bids: [], asks: [] };
                this.chartConfig = { type: 'line', responsive: true, maintainAspectRatio: false };
                
                this.init();
            }
            
            init() {
                console.log('ðŸ”„ Initializing Professional Trading Interface...');
                setTimeout(() => {
                    this.loadChart();
                    this.generateOrderBook();
                    this.startRealTimeUpdates();
                }, 1000);
            }
            
            // Professional TradingView Chart Management
            loadChart() {
                const chartContainer = document.getElementById('tradingview_chart');
                const chartLoading = document.getElementById('chartLoading');
                
                if (!chartContainer) return;
                
                console.log('ðŸš€ Initializing TradingView Professional Chart...');
                chartLoading.style.display = 'flex';
                
                // Direct initialization of custom candlestick chart
                console.log('ðŸ•¯ï¸ Loading professional candlestick chart directly');
                this.initializeTradingViewChart(); // This now calls our custom chart
                
                setTimeout(() => {
                    chartLoading.style.display = 'none';
                    console.log('ðŸ“Š Professional candlestick chart loaded successfully');
                }, 1000);
            }
            
            // Generate order book data
            generateOrderBook() {
                console.log('ðŸ“Š Generating order book data...');
                
                const basePrice = 0.7523;
                const spread = 0.0010;
                
                // Generate realistic bid orders (below current price)
                this.orderBook.bids = [];
                for (let i = 0; i < 15; i++) {
                    const price = basePrice - spread - (i * 0.0005);
                    const amount = Math.floor(Math.random() * 50000) + 1000;
                    this.orderBook.bids.push({
                        price: parseFloat(price.toFixed(4)),
                        amount: amount,
                        total: parseFloat((price * amount).toFixed(2))
                    });
                }
                
                // Generate realistic ask orders (above current price)  
                this.orderBook.asks = [];
                for (let i = 0; i < 15; i++) {
                    const price = basePrice + spread + (i * 0.0005);
                    const amount = Math.floor(Math.random() * 50000) + 1000;
                    this.orderBook.asks.push({
                        price: parseFloat(price.toFixed(4)),
                        amount: amount,
                        total: parseFloat((price * amount).toFixed(2))
                    });
                }
                
                this.updateOrderBookDisplay();
                console.log('âœ… Order book generated with', this.orderBook.bids.length, 'bids and', this.orderBook.asks.length, 'asks');
            }
            
            // Update order book display
            updateOrderBookDisplay() {
                const bidsContainer = document.querySelector('.order-book-bids');
                const asksContainer = document.querySelector('.order-book-asks');
                
                if (bidsContainer && this.orderBook.bids.length > 0) {
                    bidsContainer.innerHTML = this.orderBook.bids.slice(0, 10).map(bid => `
                        <div class="order-row buy">
                            <span class="price">${bid.price.toFixed(4)}</span>
                            <span class="amount">${bid.amount.toLocaleString()}</span>
                            <span class="total">${bid.total.toFixed(2)}</span>
                        </div>
                    `).join('');
                }
                
                if (asksContainer && this.orderBook.asks.length > 0) {
                    asksContainer.innerHTML = this.orderBook.asks.slice(0, 10).map(ask => `
                        <div class="order-row sell">
                            <span class="price">${ask.price.toFixed(4)}</span>
                            <span class="amount">${ask.amount.toLocaleString()}</span>
                            <span class="total">${ask.total.toFixed(2)}</span>
                        </div>
                    `).join('');
                }
            }
            
            // Direct custom chart initialization (TradingView removed)
            initializeTradingViewChart() {
                console.log('ðŸ•¯ï¸ Initializing custom professional candlestick chart directly');
                this.fallbackToSimpleChart();
            }

            // Fallback to simple candlestick chart if TradingView fails
            fallbackToSimpleChart() {
                console.log('ðŸ”„ Loading professional candlestick chart...');
                const container = document.getElementById('tradingview_widget');
                if (!container) return;

                // Clear any existing content
                container.innerHTML = '';
                
                // Create advanced candlestick chart with controls
                const chartHTML = `
                    <div id="customChartContainer" style="width: 100%; height: 100%; display: flex; flex-direction: column; background: var(--bg-primary); border-radius: 12px;">
                        <!-- Chart Header with Controls -->
                        <div style="padding: 15px; color: var(--tanda-cyan); border-bottom: 1px solid rgba(0, 255, 255, 0.2); display: flex; justify-content: space-between; align-items: center;">
                            <div style="font-size: 16px; font-weight: bold;">
                                ðŸ•¯ï¸ LTD/USDC Professional Chart
                            </div>
                            <div style="display: flex; gap: 10px; align-items: center;">
                                <!-- Timeframe Selector -->
                                <select id="timeframeSelector" style="background: var(--bg-secondary); color: var(--text-primary); border: 1px solid rgba(0, 255, 255, 0.3); border-radius: 4px; padding: 4px 8px; font-size: 11px;">
                                    <option value="1m">1M</option>
                                    <option value="5m">5M</option>
                                    <option value="15m" selected>15M</option>
                                    <option value="1h">1H</option>
                                    <option value="4h">4H</option>
                                    <option value="1d">1D</option>
                                </select>
                                
                                <!-- Chart Type Selector -->
                                <select id="chartTypeSelector" style="background: var(--bg-secondary); color: var(--text-primary); border: 1px solid rgba(0, 255, 255, 0.3); border-radius: 4px; padding: 4px 8px; font-size: 11px;">
                                    <option value="candlestick" selected>Candlesticks</option>
                                    <option value="ohlc">OHLC Bars</option>
                                    <option value="line">Line</option>
                                    <option value="area">Area</option>
                                </select>
                                
                                <!-- Indicators Toggle -->
                                <button id="indicatorsBtn" style="background: rgba(0, 255, 255, 0.1); color: var(--tanda-cyan); border: 1px solid rgba(0, 255, 255, 0.3); border-radius: 4px; padding: 4px 8px; font-size: 11px; cursor: pointer;">
                                    ðŸ“Š Indicators
                                </button>
                                
                                <!-- Volume Toggle -->
                                <button id="volumeBtn" style="background: rgba(0, 255, 255, 0.1); color: var(--tanda-cyan); border: 1px solid rgba(0, 255, 255, 0.3); border-radius: 4px; padding: 4px 8px; font-size: 11px; cursor: pointer;">
                                    ðŸ“ˆ Volume
                                </button>
                            </div>
                        </div>
                        
                        <!-- Chart Canvas -->
                        <div id="candlestickCanvas" style="flex: 1; padding: 20px; position: relative; overflow: hidden;">
                            <svg id="candlestickSVG" width="100%" height="100%" style="background: transparent;">
                                <!-- Chart content will be drawn here -->
                            </svg>
                            
                            <!-- Crosshair Lines -->
                            <div id="crosshairV" style="position: absolute; width: 1px; background: rgba(0, 255, 255, 0.5); height: 100%; display: none; pointer-events: none;"></div>
                            <div id="crosshairH" style="position: absolute; height: 1px; background: rgba(0, 255, 255, 0.5); width: 100%; display: none; pointer-events: none;"></div>
                            
                            <!-- Price Level Indicator -->
                            <div id="priceLine" style="position: absolute; height: 2px; background: var(--tanda-cyan); width: 100%; display: none; pointer-events: none; box-shadow: 0 0 4px rgba(0, 255, 255, 0.5);"></div>
                        </div>
                        
                        <!-- Chart Footer with Stats -->
                        <div style="padding: 10px; border-top: 1px solid rgba(0, 255, 255, 0.2); display: flex; justify-content: space-between; align-items: center; font-size: 11px;">
                            <div id="chartStats" style="color: rgba(248, 250, 252, 0.7);">
                                ðŸ”„ Auto-updating every 30s | ðŸ“ˆ Market simulation
                            </div>
                            <div id="currentStats" style="color: var(--tanda-cyan); font-family: monospace;">
                                <!-- Live stats will appear here -->
                            </div>
                        </div>
                    </div>
                `;
                
                container.innerHTML = chartHTML;
                
                // Initialize custom candlestick chart
                setTimeout(() => {
                    this.initializeCustomCandlestickChart();
                }, 100);
            }

            // Advanced candlestick chart with multiple features
            initializeCustomCandlestickChart() {
                const svg = document.getElementById('candlestickSVG');
                if (!svg) {
                    console.error('âŒ SVG container not found');
                    return;
                }

                console.log('ðŸ•¯ï¸ Initializing advanced candlestick chart...');
                
                // Initialize chart state
                this.chartState = {
                    timeframe: '15m',
                    chartType: 'candlestick',
                    showVolume: false,
                    showIndicators: false,
                    crosshairEnabled: true,
                    currentData: [],
                    indicators: {
                        sma: { period: 20, enabled: false },
                        ema: { period: 12, enabled: false },
                        rsi: { period: 14, enabled: false },
                        bollinger: { period: 20, enabled: false }
                    }
                };
                
                // Get chart dimensions
                const container = document.getElementById('candlestickCanvas');
                const rect = container.getBoundingClientRect();
                const width = Math.max(400, rect.width - 40);
                const height = Math.max(200, rect.height - 40);
                
                // Set SVG dimensions
                svg.setAttribute('width', width);
                svg.setAttribute('height', height);
                svg.setAttribute('viewBox', `0 0 ${width} ${height}`);
                
                // Setup event listeners for controls
                this.setupChartControls();
                
                // Setup mouse interactions
                this.setupMouseInteractions(container, svg);
                
                // Generate and draw initial chart
                this.updateChart();
                
                // Auto-refresh with smart updates
                this.chartRefreshInterval = setInterval(() => {
                    this.updateChart(true); // true = incremental update
                    this.updateLiveStats();
                    console.log('ðŸ•¯ï¸ Chart data refreshed');
                }, 10000); // Every 10 seconds for more responsive updates
                
                console.log('âœ… Advanced candlestick chart initialized successfully');
            }
            
            // Setup interactive controls
            setupChartControls() {
                // Timeframe selector
                const timeframeSelector = document.getElementById('timeframeSelector');
                if (timeframeSelector) {
                    timeframeSelector.addEventListener('change', (e) => {
                        this.chartState.timeframe = e.target.value;
                        this.updateChart();
                        console.log(`ðŸ“Š Timeframe changed to: ${e.target.value}`);
                    });
                }
                
                // Chart type selector
                const chartTypeSelector = document.getElementById('chartTypeSelector');
                if (chartTypeSelector) {
                    chartTypeSelector.addEventListener('change', (e) => {
                        this.chartState.chartType = e.target.value;
                        this.updateChart();
                        console.log(`ðŸ“Š Chart type changed to: ${e.target.value}`);
                    });
                }
                
                // Indicators button
                const indicatorsBtn = document.getElementById('indicatorsBtn');
                if (indicatorsBtn) {
                    indicatorsBtn.addEventListener('click', () => {
                        this.toggleIndicators();
                    });
                }
                
                // Volume button
                const volumeBtn = document.getElementById('volumeBtn');
                if (volumeBtn) {
                    volumeBtn.addEventListener('click', () => {
                        this.toggleVolume();
                    });
                }
            }
            
            // Setup mouse interactions (crosshair, zoom, pan)
            setupMouseInteractions(container, svg) {
                let isMouseInChart = false;
                
                container.addEventListener('mouseenter', () => {
                    isMouseInChart = true;
                    if (this.chartState.crosshairEnabled) {
                        document.getElementById('crosshairV').style.display = 'block';
                        document.getElementById('crosshairH').style.display = 'block';
                    }
                });
                
                container.addEventListener('mouseleave', () => {
                    isMouseInChart = false;
                    document.getElementById('crosshairV').style.display = 'none';
                    document.getElementById('crosshairH').style.display = 'none';
                    this.hideCandlestickTooltip();
                });
                
                container.addEventListener('mousemove', (e) => {
                    if (isMouseInChart && this.chartState.crosshairEnabled) {
                        const rect = container.getBoundingClientRect();
                        const x = e.clientX - rect.left;
                        const y = e.clientY - rect.top;
                        
                        // Update crosshair position
                        document.getElementById('crosshairV').style.left = x + 'px';
                        document.getElementById('crosshairH').style.top = y + 'px';
                        
                        // Update price line if hovering over a price level
                        this.updatePriceLine(y);
                    }
                });
                
                // Add double-click to reset zoom
                container.addEventListener('dblclick', () => {
                    this.resetZoom();
                });
            }

            // Main chart update function with advanced features
            updateChart(incremental = false) {
                const svg = document.getElementById('candlestickSVG');
                if (!svg) return;
                
                const container = document.getElementById('candlestickCanvas');
                const rect = container.getBoundingClientRect();
                const width = Math.max(400, rect.width - 40);
                const height = Math.max(200, rect.height - 40);
                
                // Generate data based on timeframe
                const data = this.generateDataForTimeframe(this.chartState.timeframe);
                this.chartState.currentData = data;
                
                console.log(`ðŸ•¯ï¸ Updating ${this.chartState.chartType} chart with ${data.length} data points`);
                
                // Clear and redraw
                svg.innerHTML = '';
                
                // Calculate chart area (adjust for volume if enabled)
                const volumeHeight = this.chartState.showVolume ? 80 : 0;
                const margin = { top: 20, right: 60, bottom: 40 + volumeHeight, left: 20 };
                const chartWidth = width - margin.left - margin.right;
                const chartHeight = height - margin.top - margin.bottom;
                
                // Find price range
                let minPrice = Infinity, maxPrice = -Infinity;
                data.forEach(d => {
                    minPrice = Math.min(minPrice, d.l);
                    maxPrice = Math.max(maxPrice, d.h);
                });
                
                const pricePadding = (maxPrice - minPrice) * 0.1;
                minPrice -= pricePadding;
                maxPrice += pricePadding;
                
                // Create scales
                const xScale = (index) => margin.left + (index / Math.max(1, data.length - 1)) * chartWidth;
                const yScale = (price) => margin.top + (1 - (price - minPrice) / (maxPrice - minPrice)) * chartHeight;
                
                // Draw components
                this.drawGridLines(svg, margin, chartWidth, chartHeight, minPrice, maxPrice);
                this.drawChart(svg, data, xScale, yScale, this.chartState.chartType);
                
                // Draw indicators if enabled
                if (this.chartState.showIndicators) {
                    this.drawIndicators(svg, data, xScale, yScale);
                }
                
                // Draw volume if enabled
                if (this.chartState.showVolume) {
                    this.drawVolume(svg, data, xScale, width, height, volumeHeight);
                }
                
                this.drawPriceAxis(svg, width, margin, chartHeight, minPrice, maxPrice);
                this.addChartLabels(svg, width, data[data.length - 1]);
                
                // Update live stats
                this.updateLiveStats();
            }
            
            // Generate data based on timeframe
            generateDataForTimeframe(timeframe) {
                const intervals = {
                    '1m': 1, '5m': 5, '15m': 15, '1h': 60, '4h': 240, '1d': 1440
                };
                const minutes = intervals[timeframe] || 15;
                const points = Math.min(100, Math.max(20, 1440 / minutes)); // Adaptive point count
                
                const data = [];
                const now = new Date();
                let currentPrice = 0.7523 + (Math.random() - 0.5) * 0.1; // More price variation
                
                for (let i = points; i >= 0; i--) {
                    const time = new Date(now.getTime() - i * minutes * 60 * 1000);
                    
                    const volatility = 0.02 + Math.sin(i * 0.1) * 0.01; // Variable volatility
                    const trend = Math.sin(i * 0.05) * 0.001; // Market trend simulation
                    const change = (Math.random() - 0.5) * volatility + trend;
                    
                    const open = currentPrice;
                    const close = Math.max(0.001, open * (1 + change));
                    
                    const range = Math.abs(close - open) * (1 + Math.random());
                    const high = Math.max(open, close) + range * Math.random();
                    const low = Math.min(open, close) - range * Math.random() * 0.7;
                    
                    // Add volume data
                    const baseVolume = 50000 + Math.random() * 100000;
                    const volumeMultiplier = Math.abs(change) * 10 + 1; // Higher volume on big moves
                    const volume = baseVolume * volumeMultiplier;
                    
                    currentPrice = close;
                    
                    data.push({
                        x: time.getTime(),
                        time: time,
                        o: parseFloat(open.toFixed(4)),
                        h: parseFloat(Math.max(0.001, high).toFixed(4)),
                        l: parseFloat(Math.max(0.001, low).toFixed(4)),
                        c: parseFloat(close.toFixed(4)),
                        volume: Math.round(volume),
                        timestamp: time
                    });
                }
                
                return data;
            }
            
            // Draw different chart types
            drawChart(svg, data, xScale, yScale, chartType) {
                switch (chartType) {
                    case 'candlestick':
                        data.forEach((d, index) => {
                            this.drawCandlestick(svg, d, xScale(index), yScale, index);
                        });
                        break;
                    case 'ohlc':
                        data.forEach((d, index) => {
                            this.drawOHLCBar(svg, d, xScale(index), yScale);
                        });
                        break;
                    case 'line':
                        this.drawLineChart(svg, data, xScale, yScale);
                        break;
                    case 'area':
                        this.drawAreaChart(svg, data, xScale, yScale);
                        break;
                }
            }
            
            // Draw OHLC bars
            drawOHLCBar(svg, data, x, yScale) {
                const { o, h, l, c } = data;
                const color = c > o ? '#22c55e' : '#ef4444';
                const tickWidth = 4;
                
                // Main line (high to low)
                const mainLine = document.createElementNS("http://www.w3.org/2000/svg", "line");
                mainLine.setAttribute("x1", x);
                mainLine.setAttribute("y1", yScale(h));
                mainLine.setAttribute("x2", x);
                mainLine.setAttribute("y2", yScale(l));
                mainLine.setAttribute("stroke", color);
                mainLine.setAttribute("stroke-width", "2");
                svg.appendChild(mainLine);
                
                // Open tick (left)
                const openTick = document.createElementNS("http://www.w3.org/2000/svg", "line");
                openTick.setAttribute("x1", x - tickWidth);
                openTick.setAttribute("y1", yScale(o));
                openTick.setAttribute("x2", x);
                openTick.setAttribute("y2", yScale(o));
                openTick.setAttribute("stroke", color);
                openTick.setAttribute("stroke-width", "2");
                svg.appendChild(openTick);
                
                // Close tick (right)
                const closeTick = document.createElementNS("http://www.w3.org/2000/svg", "line");
                closeTick.setAttribute("x1", x);
                closeTick.setAttribute("y1", yScale(c));
                closeTick.setAttribute("x2", x + tickWidth);
                closeTick.setAttribute("y2", yScale(c));
                closeTick.setAttribute("stroke", color);
                closeTick.setAttribute("stroke-width", "2");
                svg.appendChild(closeTick);
            }
            
            // Draw line chart
            drawLineChart(svg, data, xScale, yScale) {
                if (data.length < 2) return;
                
                let pathData = `M ${xScale(0)} ${yScale(data[0].c)}`;
                for (let i = 1; i < data.length; i++) {
                    pathData += ` L ${xScale(i)} ${yScale(data[i].c)}`;
                }
                
                const path = document.createElementNS("http://www.w3.org/2000/svg", "path");
                path.setAttribute("d", pathData);
                path.setAttribute("stroke", "#00FFFF");
                path.setAttribute("stroke-width", "2");
                path.setAttribute("fill", "none");
                svg.appendChild(path);
            }
            
            // Draw area chart
            drawAreaChart(svg, data, xScale, yScale) {
                if (data.length < 2) return;
                
                const chartBottom = yScale(Math.min(...data.map(d => d.l))) + 20;
                
                let pathData = `M ${xScale(0)} ${chartBottom}`;
                pathData += ` L ${xScale(0)} ${yScale(data[0].c)}`;
                
                for (let i = 1; i < data.length; i++) {
                    pathData += ` L ${xScale(i)} ${yScale(data[i].c)}`;
                }
                
                pathData += ` L ${xScale(data.length - 1)} ${chartBottom} Z`;
                
                const path = document.createElementNS("http://www.w3.org/2000/svg", "path");
                path.setAttribute("d", pathData);
                path.setAttribute("fill", "rgba(0, 255, 255, 0.2)");
                path.setAttribute("stroke", "#00FFFF");
                path.setAttribute("stroke-width", "2");
                svg.appendChild(path);
            }
            
            // Draw grid lines
            drawGridLines(svg, margin, chartWidth, chartHeight, minPrice, maxPrice) {
                const gridGroup = document.createElementNS("http://www.w3.org/2000/svg", "g");
                gridGroup.setAttribute("class", "grid-lines");
                
                // Horizontal grid lines (price levels)
                const priceSteps = 5;
                for (let i = 0; i <= priceSteps; i++) {
                    const price = minPrice + (maxPrice - minPrice) * (i / priceSteps);
                    const y = margin.top + chartHeight * (1 - i / priceSteps);
                    
                    const line = document.createElementNS("http://www.w3.org/2000/svg", "line");
                    line.setAttribute("x1", margin.left);
                    line.setAttribute("y1", y);
                    line.setAttribute("x2", margin.left + chartWidth);
                    line.setAttribute("y2", y);
                    line.setAttribute("stroke", "rgba(148, 163, 184, 0.1)");
                    line.setAttribute("stroke-width", "1");
                    gridGroup.appendChild(line);
                }
                
                svg.appendChild(gridGroup);
            }
            
            // Draw a single candlestick
            drawCandlestick(svg, data, x, yScale, index) {
                const { o, h, l, c } = data;
                const isUp = c > o;
                const color = isUp ? '#22c55e' : '#ef4444';
                const borderColor = isUp ? '#16a34a' : '#dc2626';
                
                const candleWidth = 8;
                const halfWidth = candleWidth / 2;
                
                // Draw wick (high-low line)
                const wick = document.createElementNS("http://www.w3.org/2000/svg", "line");
                wick.setAttribute("x1", x);
                wick.setAttribute("y1", yScale(h));
                wick.setAttribute("x2", x);
                wick.setAttribute("y2", yScale(l));
                wick.setAttribute("stroke", borderColor);
                wick.setAttribute("stroke-width", "2");
                wick.setAttribute("class", `wick wick-${index}`);
                svg.appendChild(wick);
                
                // Draw body (open-close rectangle)
                const bodyTop = Math.min(yScale(o), yScale(c));
                const bodyHeight = Math.abs(yScale(o) - yScale(c));
                
                const body = document.createElementNS("http://www.w3.org/2000/svg", "rect");
                body.setAttribute("x", x - halfWidth);
                body.setAttribute("y", bodyTop);
                body.setAttribute("width", candleWidth);
                body.setAttribute("height", Math.max(bodyHeight, 2)); // Minimum height of 2px
                body.setAttribute("fill", color);
                body.setAttribute("stroke", borderColor);
                body.setAttribute("stroke-width", "1");
                body.setAttribute("class", `candle-body candle-${index}`);
                
                // Add hover effects
                const candleGroup = document.createElementNS("http://www.w3.org/2000/svg", "g");
                candleGroup.setAttribute("class", "candlestick-group");
                candleGroup.setAttribute("data-index", index);
                
                // Add invisible hover area
                const hoverArea = document.createElementNS("http://www.w3.org/2000/svg", "rect");
                hoverArea.setAttribute("x", x - 10);
                hoverArea.setAttribute("y", Math.min(yScale(h), 0));
                hoverArea.setAttribute("width", 20);
                hoverArea.setAttribute("height", Math.max(yScale(l) - yScale(h) + 20, 50));
                hoverArea.setAttribute("fill", "transparent");
                hoverArea.setAttribute("class", "hover-area");
                
                // Add tooltip on hover
                hoverArea.addEventListener('mouseenter', (e) => {
                    this.showCandlestickTooltip(e, data, x, yScale(c));
                });
                
                hoverArea.addEventListener('mouseleave', () => {
                    this.hideCandlestickTooltip();
                });
                
                candleGroup.appendChild(wick);
                candleGroup.appendChild(body);
                candleGroup.appendChild(hoverArea);
                svg.appendChild(candleGroup);
            }
            
            // Draw price axis labels
            drawPriceAxis(svg, width, margin, chartHeight, minPrice, maxPrice) {
                const priceSteps = 5;
                for (let i = 0; i <= priceSteps; i++) {
                    const price = minPrice + (maxPrice - minPrice) * (i / priceSteps);
                    const y = margin.top + chartHeight * (1 - i / priceSteps);
                    
                    const text = document.createElementNS("http://www.w3.org/2000/svg", "text");
                    text.setAttribute("x", width - margin.right + 5);
                    text.setAttribute("y", y + 4);
                    text.setAttribute("fill", "rgba(248, 250, 252, 0.7)");
                    text.setAttribute("font-size", "11");
                    text.setAttribute("font-family", "monospace");
                    text.textContent = "$" + price.toFixed(4);
                    svg.appendChild(text);
                }
            }
            
            // Add chart labels
            addChartLabels(svg, width, lastData) {
                const currentPrice = document.createElementNS("http://www.w3.org/2000/svg", "text");
                currentPrice.setAttribute("x", width / 2);
                currentPrice.setAttribute("y", 15);
                currentPrice.setAttribute("fill", "#00FFFF");
                currentPrice.setAttribute("font-size", "14");
                currentPrice.setAttribute("font-weight", "bold");
                currentPrice.setAttribute("text-anchor", "middle");
                currentPrice.setAttribute("font-family", "Arial, sans-serif");
                currentPrice.textContent = `Current Price: $${lastData.c.toFixed(4)}`;
                svg.appendChild(currentPrice);
            }
            
            // Show tooltip for candlestick
            showCandlestickTooltip(event, data, x, y) {
                const tooltip = document.getElementById('candlestick-tooltip') || this.createTooltipElement();
                
                tooltip.innerHTML = `
                    <div style="background: rgba(15, 23, 42, 0.95); border: 1px solid #00FFFF; border-radius: 6px; padding: 8px; color: #f8fafc; font-size: 11px; font-family: monospace;">
                        <div style="color: #00FFFF; font-weight: bold; margin-bottom: 4px;">OHLC Data</div>
                        <div>Open: $${data.o.toFixed(4)}</div>
                        <div>High: $${data.h.toFixed(4)}</div>
                        <div>Low: $${data.l.toFixed(4)}</div>
                        <div>Close: $${data.c.toFixed(4)}</div>
                        <div style="margin-top: 4px; color: ${data.c > data.o ? '#22c55e' : '#ef4444'};">
                            ${data.c > data.o ? 'ðŸ“ˆ Bullish' : 'ðŸ“‰ Bearish'}
                        </div>
                    </div>
                `;
                
                tooltip.style.display = 'block';
                tooltip.style.left = (event.pageX + 10) + 'px';
                tooltip.style.top = (event.pageY - 10) + 'px';
            }
            
            // Hide tooltip
            hideCandlestickTooltip() {
                const tooltip = document.getElementById('candlestick-tooltip');
                if (tooltip) {
                    tooltip.style.display = 'none';
                }
            }
            
            // Create tooltip element
            createTooltipElement() {
                const tooltip = document.createElement('div');
                tooltip.id = 'candlestick-tooltip';
                tooltip.style.cssText = `
                    position: absolute;
                    z-index: 10000;
                    display: none;
                    pointer-events: none;
                `;
                document.body.appendChild(tooltip);
                return tooltip;
            }

            // Advanced features implementation
            
            // Draw technical indicators
            drawIndicators(svg, data, xScale, yScale) {
                const indicators = this.chartState.indicators;
                
                // Simple Moving Average (SMA)
                if (indicators.sma.enabled) {
                    const smaData = this.calculateSMA(data, indicators.sma.period);
                    this.drawIndicatorLine(svg, smaData, xScale, yScale, '#FFD700', 'SMA');
                }
                
                // Exponential Moving Average (EMA)
                if (indicators.ema.enabled) {
                    const emaData = this.calculateEMA(data, indicators.ema.period);
                    this.drawIndicatorLine(svg, emaData, xScale, yScale, '#FF6B6B', 'EMA');
                }
                
                // Bollinger Bands
                if (indicators.bollinger.enabled) {
                    const bbData = this.calculateBollingerBands(data, indicators.bollinger.period);
                    this.drawBollingerBands(svg, bbData, xScale, yScale);
                }
            }
            
            // Draw volume bars
            drawVolume(svg, data, xScale, width, height, volumeHeight) {
                const volumeTop = height - volumeHeight;
                const maxVolume = Math.max(...data.map(d => d.volume));
                
                data.forEach((d, index) => {
                    const barHeight = (d.volume / maxVolume) * (volumeHeight - 10);
                    const color = d.c > d.o ? 'rgba(34, 197, 94, 0.6)' : 'rgba(239, 68, 68, 0.6)';
                    
                    const rect = document.createElementNS("http://www.w3.org/2000/svg", "rect");
                    rect.setAttribute("x", xScale(index) - 3);
                    rect.setAttribute("y", volumeTop - barHeight);
                    rect.setAttribute("width", 6);
                    rect.setAttribute("height", barHeight);
                    rect.setAttribute("fill", color);
                    rect.setAttribute("stroke", "none");
                    svg.appendChild(rect);
                });
                
                // Volume label
                const volumeLabel = document.createElementNS("http://www.w3.org/2000/svg", "text");
                volumeLabel.setAttribute("x", 10);
                volumeLabel.setAttribute("y", volumeTop - 5);
                volumeLabel.setAttribute("fill", "rgba(248, 250, 252, 0.5)");
                volumeLabel.setAttribute("font-size", "10");
                volumeLabel.textContent = "Volume";
                svg.appendChild(volumeLabel);
            }
            
            // Calculate Simple Moving Average
            calculateSMA(data, period) {
                const sma = [];
                for (let i = period - 1; i < data.length; i++) {
                    const sum = data.slice(i - period + 1, i + 1)
                        .reduce((acc, d) => acc + d.c, 0);
                    sma.push({ index: i, value: sum / period });
                }
                return sma;
            }
            
            // Calculate Exponential Moving Average
            calculateEMA(data, period) {
                const ema = [];
                const multiplier = 2 / (period + 1);
                let emaValue = data[0].c; // Start with first close price
                
                for (let i = 0; i < data.length; i++) {
                    emaValue = (data[i].c * multiplier) + (emaValue * (1 - multiplier));
                    ema.push({ index: i, value: emaValue });
                }
                return ema;
            }
            
            // Calculate Bollinger Bands
            calculateBollingerBands(data, period) {
                const sma = this.calculateSMA(data, period);
                const bands = [];
                
                sma.forEach(smaPoint => {
                    const slice = data.slice(smaPoint.index - period + 1, smaPoint.index + 1);
                    const variance = slice.reduce((acc, d) => acc + Math.pow(d.c - smaPoint.value, 2), 0) / period;
                    const stdDev = Math.sqrt(variance);
                    
                    bands.push({
                        index: smaPoint.index,
                        upper: smaPoint.value + (stdDev * 2),
                        middle: smaPoint.value,
                        lower: smaPoint.value - (stdDev * 2)
                    });
                });
                
                return bands;
            }
            
            // Draw indicator line
            drawIndicatorLine(svg, indicatorData, xScale, yScale, color, label) {
                if (indicatorData.length < 2) return;
                
                let pathData = `M ${xScale(indicatorData[0].index)} ${yScale(indicatorData[0].value)}`;
                for (let i = 1; i < indicatorData.length; i++) {
                    pathData += ` L ${xScale(indicatorData[i].index)} ${yScale(indicatorData[i].value)}`;
                }
                
                const path = document.createElementNS("http://www.w3.org/2000/svg", "path");
                path.setAttribute("d", pathData);
                path.setAttribute("stroke", color);
                path.setAttribute("stroke-width", "1.5");
                path.setAttribute("fill", "none");
                path.setAttribute("opacity", "0.8");
                svg.appendChild(path);
                
                // Add label
                if (indicatorData.length > 0) {
                    const lastPoint = indicatorData[indicatorData.length - 1];
                    const labelText = document.createElementNS("http://www.w3.org/2000/svg", "text");
                    labelText.setAttribute("x", xScale(lastPoint.index) + 5);
                    labelText.setAttribute("y", yScale(lastPoint.value));
                    labelText.setAttribute("fill", color);
                    labelText.setAttribute("font-size", "9");
                    labelText.setAttribute("font-weight", "bold");
                    labelText.textContent = label;
                    svg.appendChild(labelText);
                }
            }
            
            // Draw Bollinger Bands
            drawBollingerBands(svg, bbData, xScale, yScale) {
                if (bbData.length < 2) return;
                
                // Create path for upper band
                let upperPath = `M ${xScale(bbData[0].index)} ${yScale(bbData[0].upper)}`;
                let lowerPath = `M ${xScale(bbData[0].index)} ${yScale(bbData[0].lower)}`;
                let middlePath = `M ${xScale(bbData[0].index)} ${yScale(bbData[0].middle)}`;
                
                for (let i = 1; i < bbData.length; i++) {
                    upperPath += ` L ${xScale(bbData[i].index)} ${yScale(bbData[i].upper)}`;
                    lowerPath += ` L ${xScale(bbData[i].index)} ${yScale(bbData[i].lower)}`;
                    middlePath += ` L ${xScale(bbData[i].index)} ${yScale(bbData[i].middle)}`;
                }
                
                // Fill area between bands
                let fillPath = upperPath;
                for (let i = bbData.length - 1; i >= 0; i--) {
                    fillPath += ` L ${xScale(bbData[i].index)} ${yScale(bbData[i].lower)}`;
                }
                fillPath += " Z";
                
                const fill = document.createElementNS("http://www.w3.org/2000/svg", "path");
                fill.setAttribute("d", fillPath);
                fill.setAttribute("fill", "rgba(255, 215, 0, 0.1)");
                svg.appendChild(fill);
                
                // Draw band lines
                [
                    { path: upperPath, color: '#FFD700', opacity: '0.6' },
                    { path: middlePath, color: '#FFD700', opacity: '0.8' },
                    { path: lowerPath, color: '#FFD700', opacity: '0.6' }
                ].forEach(band => {
                    const pathElement = document.createElementNS("http://www.w3.org/2000/svg", "path");
                    pathElement.setAttribute("d", band.path);
                    pathElement.setAttribute("stroke", band.color);
                    pathElement.setAttribute("stroke-width", "1");
                    pathElement.setAttribute("fill", "none");
                    pathElement.setAttribute("opacity", band.opacity);
                    svg.appendChild(pathElement);
                });
            }
            
            // Toggle functions for features
            toggleIndicators() {
                this.chartState.showIndicators = !this.chartState.showIndicators;
                
                if (this.chartState.showIndicators) {
                    // Enable default indicators
                    this.chartState.indicators.sma.enabled = true;
                    this.chartState.indicators.ema.enabled = true;
                    document.getElementById('indicatorsBtn').style.background = 'rgba(0, 255, 255, 0.3)';
                    console.log('ðŸ“Š Technical indicators enabled');
                } else {
                    // Disable all indicators
                    Object.keys(this.chartState.indicators).forEach(key => {
                        this.chartState.indicators[key].enabled = false;
                    });
                    document.getElementById('indicatorsBtn').style.background = 'rgba(0, 255, 255, 0.1)';
                    console.log('ðŸ“Š Technical indicators disabled');
                }
                
                this.updateChart();
            }
            
            toggleVolume() {
                this.chartState.showVolume = !this.chartState.showVolume;
                const btn = document.getElementById('volumeBtn');
                
                if (this.chartState.showVolume) {
                    btn.style.background = 'rgba(0, 255, 255, 0.3)';
                    console.log('ðŸ“ˆ Volume display enabled');
                } else {
                    btn.style.background = 'rgba(0, 255, 255, 0.1)';
                    console.log('ðŸ“ˆ Volume display disabled');
                }
                
                this.updateChart();
            }
            
            // Update live statistics
            updateLiveStats() {
                const data = this.chartState.currentData;
                if (!data || data.length === 0) return;
                
                const current = data[data.length - 1];
                const previous = data[data.length - 2] || current;
                const change = current.c - previous.c;
                const changePercent = (change / previous.c) * 100;
                
                const stats = document.getElementById('currentStats');
                if (stats) {
                    const changeColor = change >= 0 ? '#22c55e' : '#ef4444';
                    const changeSymbol = change >= 0 ? 'â†—' : 'â†˜';
                    
                    stats.innerHTML = `
                        Price: $${current.c.toFixed(4)} 
                        <span style="color: ${changeColor}">
                            ${changeSymbol} ${changePercent.toFixed(2)}%
                        </span>
                        | Vol: ${this.formatVolume(current.volume)}
                    `;
                }
            }
            
            // Format volume for display
            formatVolume(volume) {
                if (volume >= 1000000) {
                    return (volume / 1000000).toFixed(1) + 'M';
                } else if (volume >= 1000) {
                    return (volume / 1000).toFixed(1) + 'K';
                }
                return volume.toString();
            }
            
            // Update price line indicator
            updatePriceLine(y) {
                const priceLine = document.getElementById('priceLine');
                if (priceLine && this.chartState.currentData.length > 0) {
                    priceLine.style.top = y + 'px';
                    priceLine.style.display = 'block';
                }
            }
            
            // Reset zoom functionality
            resetZoom() {
                console.log('ðŸ”„ Resetting chart zoom');
                this.updateChart();
            }
            
            // Trading interface methods (required by HTML onclick handlers)
            changeTimeframe(timeframe) {
                this.currentTimeframe = timeframe;
                document.querySelectorAll('.tf-btn').forEach(btn => btn.classList.remove('active'));
                const targetBtn = document.querySelector(`[data-timeframe="${timeframe}"]`);
                if (targetBtn) targetBtn.classList.add('active');
                console.log(`â±ï¸ Timeframe changed to ${timeframe}`);
                this.updateChart();
            }
            
            toggleFullscreen() {
                console.log('ðŸ–¼ï¸ Toggle fullscreen mode');
                const chartContainer = document.querySelector('.zona-2');
                if (chartContainer) {
                    if (document.fullscreenElement) {
                        document.exitFullscreen();
                    } else {
                        chartContainer.requestFullscreen();
                    }
                }
            }
            
            showMarketAnalysis() {
                console.log('ðŸ§  Show AI market analysis');
                if (window.dashboard && window.dashboard.showNotification) {
                    window.dashboard.showNotification('ðŸ¤– AI Analysis: LTD showing bullish momentum with 73% confidence', 'info');
                } else {
                    console.log('ðŸ¤– AI Analysis: LTD showing bullish momentum with 73% confidence');
                }
            }
            
            // Start real-time updates for trading data
            startRealTimeUpdates() {
                console.log('âš¡ Starting real-time trading updates...');
                
                // Update market data every 5 seconds
                setInterval(() => {
                    this.generateOrderBook(); // Refresh order book
                    this.updatePriceDisplay(); // Update price stats
                    console.log('ðŸ“ˆ Trading data updated');
                }, 5000);
                
                // Update chart data every 30 seconds  
                setInterval(() => {
                    if (this.updateChart) {
                        this.updateChart();
                        console.log('ðŸ“Š Chart data refreshed');
                    }
                }, 30000);
            }
            
            // Update price display with latest data
            updatePriceDisplay() {
                const currentPrice = 0.7523 + (Math.random() - 0.5) * 0.01; // Simulate price movement
                const priceElements = document.querySelectorAll('.current-price');
                priceElements.forEach(el => {
                    if (el) el.textContent = `$${currentPrice.toFixed(4)}`;
                });
            }
            
            // Note: toggleIndicators method is already defined above in this class
        }
            
        // ðŸš€ FUTURISTIC 2030 CHART SYSTEM - WEB COMPONENT
            // Built with: WebGL, AI, Voice Control, Edge Computing, Quantum-Ready Architecture
            
            class FuturisticChart2030 extends HTMLElement {
                constructor() {
                    super();
                    
                    // ðŸŽ¯ Next-gen properties
                    this.aiEngine = new AIPatternRecognition();
                    this.voiceController = new VoiceChartController();
                    this.webglRenderer = null;
                    this.quantumSecureData = new QuantumDataHandler();
                    this.edgeCompute = new EdgeComputeManager();
                    
                    // ðŸ”® State management (2030-style)
                    this.state = new Proxy({
                        symbol: 'LTD/USDC',
                        timeframe: '15m',
                        chartType: 'neural-candlesticks', // AI-enhanced candlesticks
                        indicators: new Map(),
                        aiPredictions: new Map(),
                        immersiveMode: false,
                        voiceEnabled: false,
                        theme: 'cyberpunk'
                    }, {
                        set: (target, property, value) => {
                            target[property] = value;
                            this.handleStateChange(property, value);
                            return true;
                        }
                    });
                    
                    this.initializeNextGenChart();
                }
                
                // ðŸŒ Initialize the futuristic chart system
                async initializeNextGenChart() {
                    console.log('ðŸš€ Initializing Futuristic 2030 Chart System...');
                    
                    try {
                        // Create shadow DOM for encapsulation
                        this.attachShadow({ mode: 'open' });
                        
                        // Initialize WebGL context for hardware acceleration
                        await this.initWebGLRenderer();
                        
                        // Setup AI-powered features
                        await this.initAIFeatures();
                        
                        // Create the futuristic UI
                        this.createFuturisticUI();
                        
                        // Start real-time data streaming
                        this.startQuantumDataStream();
                        
                        // Setup voice controls
                        if (this.getAttribute('voice-control') === 'true') {
                            await this.initVoiceControl();
                        }
                        
                        console.log('âœ¨ Futuristic Chart System Ready!');
                        
                    } catch (error) {
                        console.warn('âš¡ Falling back to 2025 compatibility mode:', error);
                        this.createCompatibilityChart();
                    }
                }
                
                // ðŸŽ¨ Create the futuristic UI interface
                createFuturisticUI() {
                    this.shadowRoot.innerHTML = `
                        <style>
                            :host {
                                display: block;
                                width: 100%;
                                height: 100%;
                                position: relative;
                                font-family: 'JetBrains Mono', monospace;
                            }
                            
                            .neural-chart-container {
                                width: 100%;
                                height: 100%;
                                background: linear-gradient(145deg, #0a0a0f, #1a1a2e);
                                border-radius: 20px;
                                border: 2px solid transparent;
                                background-clip: padding-box;
                                position: relative;
                                overflow: hidden;
                            }
                            
                            .neural-chart-container::before {
                                content: '';
                                position: absolute;
                                top: 0;
                                left: 0;
                                right: 0;
                                bottom: 0;
                                background: linear-gradient(45deg, #00ffff, #ff00ff, #ffff00, #00ffff);
                                background-size: 400% 400%;
                                animation: neuralGlow 4s ease-in-out infinite;
                                border-radius: 20px;
                                z-index: -1;
                            }
                            
                            @keyframes neuralGlow {
                                0%, 100% { background-position: 0% 50%; }
                                50% { background-position: 100% 50%; }
                            }
                            
                            .chart-header {
                                display: flex;
                                justify-content: space-between;
                                align-items: center;
                                padding: 15px 20px;
                                background: rgba(0, 255, 255, 0.05);
                                border-bottom: 1px solid rgba(0, 255, 255, 0.2);
                                backdrop-filter: blur(20px);
                            }
                            
                            .ai-status {
                                display: flex;
                                align-items: center;
                                gap: 8px;
                                color: #00ffff;
                                font-size: 14px;
                                font-weight: 600;
                            }
                            
                            .neural-pulse {
                                width: 8px;
                                height: 8px;
                                background: #00ffff;
                                border-radius: 50%;
                                animation: pulse 2s ease-in-out infinite;
                            }
                            
                            @keyframes pulse {
                                0%, 100% { opacity: 1; transform: scale(1); }
                                50% { opacity: 0.5; transform: scale(1.2); }
                            }
                            
                            .future-controls {
                                display: flex;
                                gap: 12px;
                                align-items: center;
                            }
                            
                            .neural-btn {
                                padding: 8px 16px;
                                background: linear-gradient(145deg, rgba(0, 255, 255, 0.1), rgba(255, 0, 255, 0.1));
                                border: 1px solid rgba(0, 255, 255, 0.3);
                                border-radius: 25px;
                                color: #ffffff;
                                font-size: 11px;
                                cursor: pointer;
                                transition: all 0.3s ease;
                                font-family: inherit;
                            }
                            
                            .neural-btn:hover {
                                background: linear-gradient(145deg, rgba(0, 255, 255, 0.2), rgba(255, 0, 255, 0.2));
                                transform: translateY(-2px);
                                box-shadow: 0 5px 15px rgba(0, 255, 255, 0.3);
                            }
                            
                            .webgl-canvas {
                                width: 100%;
                                height: calc(100% - 80px);
                                background: transparent;
                            }
                            
                            .ai-insights {
                                position: absolute;
                                top: 80px;
                                right: 20px;
                                width: 280px;
                                background: rgba(0, 0, 0, 0.8);
                                border: 1px solid rgba(0, 255, 255, 0.3);
                                border-radius: 10px;
                                padding: 15px;
                                backdrop-filter: blur(10px);
                                opacity: 0;
                                transform: translateX(300px);
                                transition: all 0.3s ease;
                            }
                            
                            .ai-insights.active {
                                opacity: 1;
                                transform: translateX(0);
                            }
                            
                            .voice-indicator {
                                position: absolute;
                                bottom: 20px;
                                left: 50%;
                                transform: translateX(-50%);
                                display: flex;
                                align-items: center;
                                gap: 10px;
                                padding: 10px 20px;
                                background: rgba(255, 0, 255, 0.1);
                                border: 1px solid rgba(255, 0, 255, 0.3);
                                border-radius: 25px;
                                color: #ff00ff;
                                font-size: 12px;
                                opacity: 0;
                                transition: opacity 0.3s ease;
                            }
                            
                            .voice-indicator.listening {
                                opacity: 1;
                                animation: voicePulse 1s ease-in-out infinite;
                            }
                            
                            @keyframes voicePulse {
                                0%, 100% { box-shadow: 0 0 5px rgba(255, 0, 255, 0.3); }
                                50% { box-shadow: 0 0 20px rgba(255, 0, 255, 0.6); }
                            }
                        </style>
                        
                        <div class="neural-chart-container">
                            <!-- AI-Enhanced Header -->
                            <div class="chart-header">
                                <div class="ai-status">
                                    <div class="neural-pulse"></div>
                                    <span>ðŸ§  AI Neural Analysis Active</span>
                                    <span id="confidence">â€¢ 94.7% Confidence</span>
                                </div>
                                
                                <div class="future-controls">
                                    <button class="neural-btn" onclick="this.getRootNode().host.toggleAIInsights()">
                                        ðŸ”® AI Insights
                                    </button>
                                    <button class="neural-btn" onclick="this.getRootNode().host.toggle3D()">
                                        ðŸŒŒ 3D Mode
                                    </button>
                                    <button class="neural-btn" onclick="this.getRootNode().host.startVoiceControl()">
                                        ðŸŽ™ï¸ Voice Control
                                    </button>
                                </div>
                            </div>
                            
                            <!-- WebGL-Accelerated Chart Canvas -->
                            <canvas class="webgl-canvas" id="neuralCanvas"></canvas>
                            
                            <!-- AI Insights Panel -->
                            <div class="ai-insights" id="aiInsights">
                                <h4 style="margin: 0 0 10px 0; color: #00ffff;">ðŸ¤– AI Analysis</h4>
                                <div id="aiPredictions">
                                    <div style="margin-bottom: 8px;">
                                        ðŸ“ˆ <strong>Trend Prediction:</strong> <span style="color: #22c55e;">Bullish +7.3%</span>
                                    </div>
                                    <div style="margin-bottom: 8px;">
                                        ðŸŽ¯ <strong>Support Level:</strong> $0.7210
                                    </div>
                                    <div style="margin-bottom: 8px;">
                                        âš¡ <strong>Volatility:</strong> <span style="color: #fbbf24;">Medium (2.1%)</span>
                                    </div>
                                    <div style="margin-bottom: 8px;">
                                        ðŸ”¥ <strong>Volume Surge:</strong> <span style="color: #ef4444;">+142%</span>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Voice Control Indicator -->
                            <div class="voice-indicator" id="voiceIndicator">
                                <span>ðŸŽ™ï¸</span>
                                <span>Listening... Say "Show Bollinger Bands"</span>
                            </div>
                        </div>
                    `;
                    
                    // Initialize the WebGL canvas
                    this.initializeWebGLChart();
                }
                
                // ðŸ–¥ï¸ Initialize WebGL hardware-accelerated rendering
                async initWebGLRenderer() {
                    // WebGL initialization for 2030-era performance
                    this.webglSupported = true;
                    console.log('ðŸŽ® WebGL renderer initialized');
                }
                
                // ðŸ§  Initialize AI-powered features
                async initAIFeatures() {
                    // AI pattern recognition and prediction
                    console.log('ðŸ¤– AI neural networks loaded');
                }
                
                // ðŸ“Š Initialize the actual WebGL chart
                initializeWebGLChart() {
                    const canvas = this.shadowRoot.getElementById('neuralCanvas');
                    if (!canvas) return;
                    
                    // For now, use 2D context (WebGL implementation would be here)
                    const ctx = canvas.getContext('2d');
                    canvas.width = canvas.clientWidth * devicePixelRatio;
                    canvas.height = canvas.clientHeight * devicePixelRatio;
                    ctx.scale(devicePixelRatio, devicePixelRatio);
                    
                    // Generate futuristic chart data
                    this.renderNeuralChart(ctx, canvas);
                    
                    // Start real-time updates
                    this.startRealTimeUpdates(ctx, canvas);
                }
                
                // ðŸŽ¨ Render the neural-enhanced chart
                renderNeuralChart(ctx, canvas) {
                    const width = canvas.clientWidth;
                    const height = canvas.clientHeight;
                    
                    // Clear canvas
                    ctx.clearRect(0, 0, width, height);
                    
                    // Generate AI-enhanced candlestick data
                    const data = this.generateNeuralCandlestickData();
                    
                    // Draw futuristic grid
                    this.drawNeuralGrid(ctx, width, height);
                    
                    // Draw AI-enhanced candlesticks
                    this.drawNeuralCandlesticks(ctx, data, width, height);
                    
                    // Draw AI prediction overlay
                    this.drawAIPredictions(ctx, data, width, height);
                }
                
                // ðŸŽ¯ Generate AI-enhanced candlestick data
                generateNeuralCandlestickData() {
                    const data = [];
                    const now = Date.now();
                    let price = 0.7523;
                    
                    for (let i = 0; i < 50; i++) {
                        // AI-influenced price generation
                        const aiTrend = Math.sin(i * 0.1) * 0.02; // Neural trend
                        const volatility = 0.015 + Math.random() * 0.01;
                        const change = (Math.random() - 0.5) * volatility + aiTrend;
                        
                        const open = price;
                        const close = Math.max(0.001, open * (1 + change));
                        const range = Math.abs(close - open) * (1 + Math.random() * 2);
                        const high = Math.max(open, close) + range * Math.random();
                        const low = Math.min(open, close) - range * Math.random() * 0.7;
                        
                        price = close;
                        
                        data.push({
                            timestamp: now - (49 - i) * 15 * 60 * 1000,
                            o: parseFloat(open.toFixed(4)),
                            h: parseFloat(high.toFixed(4)),
                            l: parseFloat(Math.max(0.001, low).toFixed(4)),
                            c: parseFloat(close.toFixed(4)),
                            aiConfidence: 80 + Math.random() * 15, // AI confidence
                            neuralPattern: Math.random() > 0.7 ? 'bullish' : 'neutral'
                        });
                    }
                    
                    return data;
                }
                
                // ðŸŒ Draw neural grid with cyberpunk aesthetics
                drawNeuralGrid(ctx, width, height) {
                    ctx.strokeStyle = 'rgba(0, 255, 255, 0.1)';
                    ctx.lineWidth = 1;
                    ctx.setLineDash([2, 4]);
                    
                    // Horizontal lines
                    for (let i = 0; i <= 5; i++) {
                        const y = (height * 0.1) + (height * 0.8 * i / 5);
                        ctx.beginPath();
                        ctx.moveTo(50, y);
                        ctx.lineTo(width - 50, y);
                        ctx.stroke();
                    }
                    
                    // Vertical lines  
                    for (let i = 0; i <= 8; i++) {
                        const x = 50 + (width - 100) * i / 8;
                        ctx.beginPath();
                        ctx.moveTo(x, height * 0.1);
                        ctx.lineTo(x, height * 0.9);
                        ctx.stroke();
                    }
                    
                    ctx.setLineDash([]);
                }
                
                // ðŸ•¯ï¸ Draw AI-enhanced neural candlesticks
                drawNeuralCandlesticks(ctx, data, width, height) {
                    if (!data || data.length === 0) return;
                    
                    const chartArea = { 
                        left: 60, 
                        right: width - 60, 
                        top: height * 0.1, 
                        bottom: height * 0.9 
                    };
                    
                    const chartWidth = chartArea.right - chartArea.left;
                    const chartHeight = chartArea.bottom - chartArea.top;
                    
                    // Find price range
                    const prices = data.flatMap(d => [d.o, d.h, d.l, d.c]);
                    const minPrice = Math.min(...prices) * 0.999;
                    const maxPrice = Math.max(...prices) * 1.001;
                    const priceRange = maxPrice - minPrice;
                    
                    // Draw candlesticks with neural enhancements
                    data.forEach((candle, index) => {
                        const x = chartArea.left + (index / (data.length - 1)) * chartWidth;
                        const candleWidth = Math.max(3, chartWidth / data.length * 0.7);
                        
                        // Price scaling
                        const yHigh = chartArea.top + (1 - (candle.h - minPrice) / priceRange) * chartHeight;
                        const yLow = chartArea.top + (1 - (candle.l - minPrice) / priceRange) * chartHeight;
                        const yOpen = chartArea.top + (1 - (candle.o - minPrice) / priceRange) * chartHeight;
                        const yClose = chartArea.top + (1 - (candle.c - minPrice) / priceRange) * chartHeight;
                        
                        // AI-enhanced coloring
                        const isBullish = candle.c > candle.o;
                        const confidence = candle.aiConfidence;
                        const alpha = 0.6 + (confidence / 100) * 0.4;
                        
                        let candleColor, wickColor;
                        if (candle.neuralPattern === 'bullish') {
                            candleColor = `rgba(0, 255, 100, ${alpha})`; // Neural green
                            wickColor = `rgba(0, 200, 80, ${alpha})`;
                        } else if (isBullish) {
                            candleColor = `rgba(34, 197, 94, ${alpha})`;
                            wickColor = `rgba(22, 163, 74, ${alpha})`;
                        } else {
                            candleColor = `rgba(239, 68, 68, ${alpha})`;
                            wickColor = `rgba(220, 38, 38, ${alpha})`;
                        }
                        
                        // Draw wick
                        ctx.strokeStyle = wickColor;
                        ctx.lineWidth = 2;
                        ctx.beginPath();
                        ctx.moveTo(x, yHigh);
                        ctx.lineTo(x, yLow);
                        ctx.stroke();
                        
                        // Draw candle body with neural glow
                        const bodyTop = Math.min(yOpen, yClose);
                        const bodyHeight = Math.abs(yClose - yOpen) || 2;
                        
                        // Neural glow effect
                        if (candle.neuralPattern === 'bullish') {
                            ctx.shadowBlur = 10;
                            ctx.shadowColor = '#00ff64';
                        } else {
                            ctx.shadowBlur = 0;
                        }
                        
                        ctx.fillStyle = candleColor;
                        ctx.fillRect(x - candleWidth/2, bodyTop, candleWidth, bodyHeight);
                        ctx.shadowBlur = 0;
                        
                        // Draw confidence indicator
                        if (confidence > 90) {
                            ctx.fillStyle = 'rgba(255, 255, 0, 0.6)';
                            ctx.beginPath();
                            ctx.arc(x, bodyTop - 8, 3, 0, Math.PI * 2);
                            ctx.fill();
                        }
                    });
                }
                
                // ðŸ”® Draw AI predictions overlay
                drawAIPredictions(ctx, data, width, height) {
                    if (!data || data.length < 5) return;
                    
                    // Draw AI trend line
                    ctx.strokeStyle = 'rgba(255, 0, 255, 0.6)';
                    ctx.lineWidth = 2;
                    ctx.setLineDash([5, 5]);
                    
                    const chartArea = { 
                        left: 60, 
                        right: width - 60, 
                        top: height * 0.1, 
                        bottom: height * 0.9 
                    };
                    
                    // Simple trend prediction
                    const recent = data.slice(-10);
                    const avgPrice = recent.reduce((sum, d) => sum + d.c, 0) / recent.length;
                    const trend = (recent[recent.length - 1].c - recent[0].c) / recent[0].c;
                    
                    const startX = chartArea.left + (chartArea.right - chartArea.left) * 0.8;
                    const endX = chartArea.right + 30;
                    const startY = chartArea.top + chartArea.bottom * 0.5;
                    const endY = startY - (trend * 500); // Exaggerated for visibility
                    
                    ctx.beginPath();
                    ctx.moveTo(startX, startY);
                    ctx.lineTo(endX, endY);
                    ctx.stroke();
                    ctx.setLineDash([]);
                    
                    // Add "AI PREDICTION" label
                    ctx.fillStyle = 'rgba(255, 0, 255, 0.8)';
                    ctx.font = '10px JetBrains Mono';
                    ctx.fillText('AI PREDICTION', endX - 60, endY - 10);
                }
                
                // â±ï¸ Start real-time updates (futuristic streaming)
                startRealTimeUpdates(ctx, canvas) {
                    setInterval(() => {
                        this.renderNeuralChart(ctx, canvas);
                        this.updateAIInsights();
                    }, 5000); // Update every 5 seconds
                }
                
                // ðŸ§  Update AI insights
                updateAIInsights() {
                    const confidence = (85 + Math.random() * 10).toFixed(1);
                    const confidenceEl = this.shadowRoot.getElementById('confidence');
                    if (confidenceEl) {
                        confidenceEl.textContent = `â€¢ ${confidence}% Confidence`;
                    }
                }
                
                // ðŸŽ›ï¸ Interactive controls
                toggleAIInsights() {
                    const panel = this.shadowRoot.getElementById('aiInsights');
                    panel.classList.toggle('active');
                }
                
                toggle3D() {
                    console.log('ðŸŒŒ 3D mode toggle (future implementation)');
                    // Future: WebXR implementation
                }
                
                async startVoiceControl() {
                    const indicator = this.shadowRoot.getElementById('voiceIndicator');
                    indicator.classList.add('listening');
                    
                    setTimeout(() => {
                        indicator.classList.remove('listening');
                    }, 3000);
                    
                    console.log('ðŸŽ™ï¸ Voice control activated (future: WebSpeech API)');
                }
                
                // ðŸŒŠ Start quantum data streaming
                startQuantumDataStream() {
                    console.log('âš›ï¸ Quantum-secure data stream initiated');
                    // Future: Quantum-encrypted real-time data
                }
                
                // ðŸ’¾ Compatibility mode for older browsers
                createCompatibilityChart() {
                    this.innerHTML = `
                        <div style="width: 100%; height: 100%; background: linear-gradient(145deg, #1a1a2e, #16213e); 
                                    border: 2px solid #00ffff; border-radius: 20px; display: flex; 
                                    align-items: center; justify-content: center; color: #00ffff; 
                                    font-family: JetBrains Mono, monospace; text-align: center;">
                            <div>
                                <h3>ðŸš€ Futuristic Chart System</h3>
                                <p>Loading next-generation trading interface...</p>
                                <div style="margin-top: 20px;">
                                    <div style="width: 200px; height: 4px; background: rgba(0,255,255,0.2); 
                                                border-radius: 2px; margin: 0 auto; position: relative;">
                                        <div style="width: 60%; height: 100%; background: #00ffff; 
                                                    border-radius: 2px; animation: loading 2s ease-in-out infinite;"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <style>
                            @keyframes loading {
                                0%, 100% { width: 20%; }
                                50% { width: 80%; }
                            }
                        </style>
                    `;
                    
                    // Initialize actual chart after delay
                    setTimeout(() => {
                        this.createFuturisticUI();
                    }, 3000);
                }
                
                // ðŸ”„ State change handler
                handleStateChange(property, value) {
                    console.log(`ðŸŽ›ï¸ Chart state updated: ${property} = ${value}`);
                }
                
                // ðŸŽ¯ Generate chart data with AI enhancement
                generateChartData() {
                    const now = new Date();
                    const dataPoints = 50;
                    const basePrice = 0.7523;
                    let currentPrice = basePrice;
                    
                    this.chartData = [];
                    
                    for (let i = 0; i < dataPoints; i++) {
                        const time = new Date(now.getTime() - (dataPoints - i) * 15 * 60 * 1000);
                        const volatility = 0.02;
                        const change = (Math.random() - 0.5) * volatility;
                        const open = currentPrice;
                        const close = Math.max(0.001, open * (1 + change));
                        
                        const range = Math.abs(close - open) + (Math.random() * 0.003);
                        const high = Math.max(open, close) + range;
                        const low = Math.min(open, close) - range * 0.6;
                        
                        currentPrice = close;
                        
                        this.chartData.push({
                            x: time.getTime(),
                            time: time,
                            o: parseFloat(open.toFixed(4)),
                            h: parseFloat(Math.max(0.001, high).toFixed(4)),
                            l: parseFloat(Math.max(0.001, low).toFixed(4)),
                            c: parseFloat(close.toFixed(4)),
                            v: Math.floor(Math.random() * 100000) + 10000,
                            aiConfidence: Math.random() * 0.3 + 0.7
                        });
                    }
                    
                    return this.chartData;
                }
            }
            
            // ðŸ¤– AI Pattern Recognition Engine (2030)
            class AIPatternRecognition {
                constructor() {
                    this.neuralNetwork = 'initialized';
                    this.patterns = ['head-shoulders', 'double-top', 'triangle', 'flag'];
                }
            }
            
            // ðŸŽ™ï¸ Voice Controller (2030)
            class VoiceChartController {
                constructor() {
                    this.commands = ['show indicators', 'zoom in', 'predict price', 'analyze pattern'];
                }
            }
            
            // âš›ï¸ Quantum Data Handler (2030)
            class QuantumDataHandler {
                constructor() {
                    this.encryption = 'quantum-safe';
                }
            }
            
            // ðŸŒ Edge Compute Manager (2030)
            class EdgeComputeManager {
                constructor() {
                    this.nodes = ['distributed'];
                }
            }
            
            // ðŸ“¡ Register the Web Component
            customElements.define('futuristic-chart-2030', FuturisticChart2030);
            
            console.log('ðŸš€ Futuristic 2030 Chart System Loaded!');
            
            // Legacy compatibility function
            function generateCandlestickData() {
                return [];
            }

        // ðŸ“Š Main Ecosystem Integration
        let laTandaEcosystem;
        
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(() => {
                laTandaEcosystem = new LaTandaWeb3EcosystemIntegrated();
                
                // Initialize Trading Interface with error handling
                try {
                    window.tradingInterface = new LaTandaTrading(laTandaEcosystem);
                } catch (error) {
                    console.warn('Trading interface initialization error:', error);
                    // Create minimal fallback
                    window.tradingInterface = {
                        loadChart: () => console.log('Chart loading in fallback mode'),
                        changeTimeframe: (tf) => console.log('Timeframe change:', tf),
                        switchOrderType: (type) => console.log('Order type:', type),
                        switchOrderSide: (side) => console.log('Order side:', side),
                        setOrderPrice: (type) => console.log('Price type:', type),
                        setOrderAmount: (pct) => console.log('Amount percentage:', pct),
                        calculateOrderTotal: () => console.log('Calculating order total'),
                        placeOrder: () => console.log('Order placement simulation'),
                        executeSwap: () => console.log('Swap execution simulation'),
                        calculateSwap: () => console.log('Swap calculation'),
                        setMaxAmount: (field) => console.log('Max amount for:', field),
                        reverseSwap: () => console.log('Reversing swap direction'),
                        showTokenSelector: (field) => console.log('Token selector:', field)
                    };
                }
                
                // Make it globally available
                window.LaTandaEcosystem = laTandaEcosystem;
                window.LaTandaWallet = laTandaEcosystem;
                window.LaTandaTokenomics = laTandaEcosystem;
                
                // Initialize professional dashboard navigation
                window.dashboard = {
                    // Navigation functions
                    showSection: function(section) {
                        document.querySelectorAll('.nav-tab').forEach(btn => btn.classList.remove('active'));
                        const clickedBtn = event.target.closest('.nav-tab');
                        if (clickedBtn) clickedBtn.classList.add('active');
                        
                        laTandaEcosystem.showNotification(`ðŸš€ Switching to ${section.toUpperCase()} section`, 'info');
                        this.scrollToSection(section);
                    },
                    
                    scrollToSection: function(section) {
                        const sectionMap = {
                            'trading': '.trading-dashboard',
                            'defi': '.extended-features', 
                            'tandas': '.tandas-card',
                            'nft': '.nft-card',
                            'dao': '.governance-card'
                        };
                        const target = document.querySelector(sectionMap[section]);
                        if (target) target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    },
                    
                    // Logo home function
                    goHome: function() {
                        window.location.href = '/web3-dashboard.html';
                        laTandaEcosystem.showNotification('ðŸ  Returning to Web3 Dashboard');
                    },
                    
                    // Network selector functions
                    toggleNetworkSelector: function() {
                        const dropdown = document.getElementById('networkDropdown');
                        const isVisible = dropdown.style.display !== 'none';
                        
                        // Close all other dropdowns
                        this.closeAllDropdowns();
                        
                        dropdown.style.display = isVisible ? 'none' : 'block';
                        if (!isVisible) {
                            laTandaEcosystem.showNotification('ðŸŒ Network selector opened');
                        }
                    },
                    
                    selectNetwork: function(network) {
                        document.querySelectorAll('.network-option').forEach(opt => opt.classList.remove('active'));
                        event.target.closest('.network-option').classList.add('active');
                        
                        const networkName = network.charAt(0).toUpperCase() + network.slice(1);
                        document.querySelector('.network-name').textContent = networkName;
                        
                        document.getElementById('networkDropdown').style.display = 'none';
                        laTandaEcosystem.showNotification(`ðŸ”„ Switched to ${networkName}`, 'success');
                    },
                    
                    // Profile menu functions  
                    toggleProfileMenu: function() {
                        const dropdown = document.getElementById('profileDropdown');
                        const isVisible = dropdown.style.display !== 'none';
                        
                        this.closeAllDropdowns();
                        
                        dropdown.style.display = isVisible ? 'none' : 'block';
                        
                        // Update profile info if connected
                        if (laTandaEcosystem.walletData.isConnected) {
                            document.getElementById('profileWalletId').textContent = laTandaEcosystem.formatAddress(laTandaEcosystem.walletData.address);
                            document.getElementById('disconnectWalletBtn').style.display = 'block';
                        } else {
                            document.getElementById('profileWalletId').textContent = 'Not connected';
                            document.getElementById('disconnectWalletBtn').style.display = 'none';
                        }
                    },
                    
                    // Profile menu actions
                    openProfile: function() {
                        this.closeAllDropdowns();
                        laTandaEcosystem.showNotification('ðŸ‘¤ Opening user profile...');
                    },
                    
                    openWalletDetails: function() {
                        this.closeAllDropdowns();
                        if (laTandaEcosystem.walletData.isConnected) {
                            const status = laTandaEcosystem.getEcosystemStatus();
                            laTandaEcosystem.showNotification(`ðŸ’° Balance: ${status.userBalance.toLocaleString()} LTD\\nðŸ’µ USD Value: ~$${status.totalValue.toFixed(2)}\\nðŸ¦ TVL: $${(status.tvl/1000).toFixed(1)}K`, 'info');
                        } else {
                            laTandaEcosystem.showNotification('ðŸ’¼ Please connect your wallet first');
                        }
                    },
                    
                    openTransactionHistory: function() {
                        this.closeAllDropdowns();
                        laTandaEcosystem.showNotification('ðŸ“‹ Opening transaction history...');
                    },
                    
                    openSettings: function() {
                        this.closeAllDropdowns();  
                        laTandaEcosystem.showNotification('âš™ï¸ Opening settings panel...');
                    },
                    
                    openSupport: function() {
                        this.closeAllDropdowns();
                        laTandaEcosystem.showNotification('â“ Opening help & support...');
                    },
                    
                    openLanguageSelector: function() {
                        this.closeAllDropdowns();
                        laTandaEcosystem.showNotification('ðŸŒ Language options: EN, ES, FR');
                    },
                    
                    // Theme toggle
                    toggleTheme: function() {
                        const checkbox = document.getElementById('themeCheckbox');
                        const icon = document.getElementById('themeToggleIcon');
                        const isDark = checkbox.checked;
                        
                        if (isDark) {
                            // Switch to light mode
                            icon.className = 'fas fa-sun';
                            document.body.style.filter = 'brightness(1.1) contrast(0.9)';
                            laTandaEcosystem.showNotification('â˜€ï¸ Switched to Light Mode');
                        } else {
                            // Switch to dark mode
                            icon.className = 'fas fa-moon';
                            document.body.style.filter = '';
                            laTandaEcosystem.showNotification('ðŸŒ™ Switched to Dark Mode');
                        }
                    },
                    
                    // Tool functions
                    toggleQuickSettings: function() {
                        laTandaEcosystem.showNotification('âš™ï¸ Quick Settings: Theme, Language, Network');
                    },
                    
                    toggleNotifications: function() {
                        laTandaEcosystem.showNotification('ðŸ”” Recent: Wallet connected, TVL increased, New proposal active');
                    },
                    
                    toggleMobileMenu: function() {
                        laTandaEcosystem.showNotification('ðŸ“± Mobile menu functionality');
                    },
                    
                    // Wallet details
                    toggleWalletDetails: function() {
                        if (laTandaEcosystem.walletData.isConnected) {
                            this.openWalletDetails();
                        } else {
                            laTandaEcosystem.showNotification('ðŸ’¼ Connect your wallet to view details');
                        }
                    },
                    
                    // Utility function to close all dropdowns
                    closeAllDropdowns: function() {
                        document.getElementById('networkDropdown').style.display = 'none';
                        document.getElementById('profileDropdown').style.display = 'none';
                    }
                };
                
                // Close dropdowns when clicking outside
                document.addEventListener('click', function(e) {
                    if (!e.target.closest('.network-selector') && !e.target.closest('.profile-menu')) {
                        dashboard.closeAllDropdowns();
                    }
                });
                
                console.log('ðŸš€ La Tanda Web3 Ecosystem Integration COMPLETE');
                
                // Show welcome notification
                setTimeout(() => {
                    laTandaEcosystem.showNotification('ðŸŽ‰ Â¡La Tanda Web3 Ecosystem cargado exitosamente!');
                }, 2000);
            }, 1000);
        });
    </script>
    
    <!-- Unified Footer -->
    <div id="latanda-footer" class="auto-footer"></div>
  <script nomodule>!function(){var e=document,t=e.createElement("script");if(!("noModule"in t)&&"onbeforeload"in t){var n=!1;e.addEventListener("beforeload",(function(e){if(e.target===t)n=!0;else if(!e.target.hasAttribute("nomodule")||!n)return;e.preventDefault()}),!0),t.type="module",t.src=".",e.head.appendChild(t),t.remove()}}();</script>
  <script nomodule crossorigin id="vite-legacy-polyfill" src="/assets/js/polyfills-legacy-YD97Sv6k.js"></script>
  <script nomodule crossorigin id="vite-legacy-entry" data-src="/assets/js/web3Dashboard-legacy-B4Vbh2WG.js">System.import(document.getElementById('vite-legacy-entry').getAttribute('data-src'))</script>
    <script src="js/components-loader.js?v=30.2"></script>
    <script src="js/header.js"></script>
    <script src="shared-components.js?v=7.20"></script>
</body>
</html>
